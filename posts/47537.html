<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>045 网络基础 | 小米里的大麦</title><meta name="keywords" content="Linux,网络"><meta name="author" content="小米里的大麦"><meta name="copyright" content="小米里的大麦"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="045 网络基础"><meta name="application-name" content="045 网络基础"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="045 网络基础"><meta property="og:url" content="https://www.minbit.top/posts/47537.html"><meta property="og:site_name" content="小米里的大麦"><meta property="og:description" content="网络基础 网络入门基础 | 博客园  1. 计算机网络背景1. 网络发展计算机网络的发展是技术迭代与需求驱动共同作用出的历史必然结果，据搜索：可大致分为以下 5 个关键阶段： 1. 起源：军事科研的 “抗毁通信” 需求（20 世纪 60 年代末） 核心事件：1969 年，美国国防部高级研究计划局（A"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=95a3b92b-7619-0365-f5bc-3e1d0f94cfc8"><meta property="article:author" content="小米里的大麦"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=95a3b92b-7619-0365-f5bc-3e1d0f94cfc8"><meta name="description" content="网络基础 网络入门基础 | 博客园  1. 计算机网络背景1. 网络发展计算机网络的发展是技术迭代与需求驱动共同作用出的历史必然结果，据搜索：可大致分为以下 5 个关键阶段： 1. 起源：军事科研的 “抗毁通信” 需求（20 世纪 60 年代末） 核心事件：1969 年，美国国防部高级研究计划局（A"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://www.minbit.top/posts/47537.html"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="Cd-RTVhRO2mndEhicN2cvLXbsNxPqFC6fSn6ql80eVg"/><meta name="baidu-site-verification" content="codeva-ZG3S9QTvGO"/><meta name="msvalidate.01" content="6DF744D82FE6D1FD11CE18658760B59D"/><meta name="baidu-site-verification" content="codeva-gIjOMzUuhV"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"/><link rel="mask-icon" href="/img/siteicon/apple-icon-180.png" color="#5bbad5"/><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"/><link rel="bookmark" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"友链 + 外链 + 无限进步！欢迎欣赏和贡献！","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"小米里的大麦","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":4,"basicWordCount":1999,"key":"93d1622eadde491eb0594b68ade51723.kaEiDD6A3KPzb7xv","Referer":"https://www.minbit.top/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: {"enable":true,"ck":"Jp8wwGQpp21utaFQ","LingQueMonitorID":"Jp8ztDRrxmTf7LDj"},
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://twikoo-olive-one.vercel.app/',
  commentBarrageConfig:{"enable":true,"maxBarrage":10,"barrageTime":5000,"accessToken":"25c96851dd8a790c4819ad4bfbaf153c","mailMd5":"7b12ebc2be80f9159099f6ab0e16573c"},
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"both","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["🧐 准备中，就快好了，真的！😭","📚 正在学习中，加油！","🎵 喜欢听音乐，喜欢看动漫"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 小米里的大麦","link":"链接: ","source":"来源: 小米里的大麦","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '小米里的大麦',
  title: '045 网络基础',
  postAI: '这篇文章讲述了计算机网络的发展历程和基本原理，从起源的军事科研需求到现代的万物互联，计算机网络经历了五个关键阶段，包括ARPANET的诞生、TCP/IP协议的提出、从军事到学术的开放、万维网与浏览器的普及以及移动化、智能化与全场景渗透。文章还介绍了网络连接形态的演进，从独立模式到网络互联、局域网和广域网，以及网络协议的本质和分层概念。最后，文章详细解释了以太网通信原理、数据碰撞问题及解决机制，以及网络中的地址管理，包括IP与MAC的关系与区别。',
  pageFillDescription: '网络基础, 1. 计算机网络背景, 1. 网络发展, 1. 起源：军事科研的 抗毁通信 需求（20 世纪 60 年代末）, 2. 互联基础：TCPx2FIP 协议的诞生（20 世纪 70 年代）, 3. 扩张：从军事到学术的开放（20 世纪 80 年代）, 4. 普及：万维网与浏览器让互联网 触手可及（20 世纪 90 年代）, 5. 爆发：移动化、智能化与全场景渗透（21 世纪至今）, 2. 网络连接形态演进, 1. 独立模式 —— 计算机之间相互独立数据封闭, 2. 网络互联 —— 多台计算机连接在一起完成数据共享, 3. 局域网（LAN） —— 规模扩大设备分层连接, 4. 广域网（WAN） —— 打破地域全局互联, 2. 认识协议, 1. 协议的本质, 2. 计算机中协议的理解, 3. 网络协议的标准, 3. 分层概念, 1. 软件分层概念, 2. 软件分层的原因 amp 维护原则, 3. 网络协议分层的原因, 4. 分层结构的类比（电话通信）, 4. OSI 七层模型, 5. TCPx2FIP 五层（或四层）模型, 6. 网络传输, 1. 数据封装：加头 传递层层打包, 2. 解包：拆头 还原层层上交, 3. 放大网络传输过程, 7. 以太网通信, 1. 以太网命名的由来, 2. 局域网（LAN）通信原理, 3. 小结, 8. 数据碰撞问题：多设备共享信道的 冲突与协调, 1. 碰撞原因与表现, 2. 碰撞避免机制, 3. 碰撞域划分：交换机的 分区优化, 4. 本质总结：临界资源的 有序访问, 9. 网络中的地址管理, 1. IP 与 MAC 的关系与区别, 2. ifconfig, 3. FTP 客户端与服务器之间的通信过程网络基础网络入门基础博客园计算机网络背景网络发展计算机网络的发展是技术迭代与需求驱动共同作用出的历史必然结果据搜索可大致分为以下个关键阶段起源军事科研的抗毁通信需求世纪年代末核心事件年美国国防部高级研究计划局启动了阿帕网项目当时正值冷战美国军方需要一种去中心化的通信网络即使部分节点被摧毁其余节点仍能正常通信技术特点最初仅连接了加州大学洛杉矶分校斯坦福研究院等个节点采用分组交换技术将数据拆分成小数据包传输提高效率和抗毁性这是现代网络的核心底层逻辑雏形互联基础协议的诞生世纪年代核心问题随着网络节点增多不同网络如与其他科研网络因语言不通无法互通关键突破年文顿瑟夫和罗伯特卡恩提出了协议族传输控制协议网际协议其中协议负责定位网络中的设备类似地址协议负责可靠传输数据确保数据完整有序到达意义协议解决了不同网络如何互联的问题成为全球网络的通用语言为互联网的全球化奠定了基础扩张从军事到学术的开放世纪年代核心事件年美国国家科学基金会建立了国家科学基金会网络将全美高校和科研机构的网络连接起来并开放了协议的使用权限变化网络用途从军事转向学术研究科学家教授可以通过网络共享数据协作研究网络规模快速扩大节点数从数百增长到数万普及万维网与浏览器让互联网触手可及世纪年代核心突破年英国科学家蒂姆伯纳斯李在欧洲核子研究中心提出万维网构想通过超文本传输协议和统一资源定位符实现文本图片等内容的跨网络链接年浏览器首款图形化浏览器诞生普通人无需专业知识即可上网意义互联网从科研工具转变为大众可使用的信息平台网页电子邮件早期搜索引擎如开始普及标志着互联网时代正式到来爆发移动化智能化与全场景渗透世纪至今技术驱动宽带网络提高传输速度移动互联网让网络摆脱有线束缚社交媒体如微信云计算远程存储与算力共享物联网设备互联等技术持续突破现状互联网从信息传递工具升级为社会基础设施渗透到购物办公教育医疗等几乎所有领域形成了万物互联的数字生态网络连接形态演进独立模式计算机之间相互独立数据封闭这是网络发展最原始的状态计算机相互独立数据业务完全本地化特点每个终端各自为战业务的数据只存在于对应终端人小松小竹小梅要切换业务必须物理移动到对应终端前且需等待前一个人用完串行处理本质没有网络连接设备间无法协同资源数据算力无法共享效率极低网络互联多台计算机连接在一起完成数据共享随着需求升级多机互联服务器集中管理的模式出现解决独立模式的低效问题特点引入服务器作为数据中心小松小竹小梅有了专属计算机业务的数据不再分散在终端而是统一存在服务器里人无需物理移动通过专属计算机就能自由切换业务并行处理本质网络开始发挥连接与共享价值通过服务器集中管理数据多设备可协同资源利用效率大幅提升局域网规模扩大设备分层连接当用户设备数量进一步增加交换机路由器组成的局域网架构出现解决多设备高效组网问题特点用交换机连接同一区域内的设备如一个办公室楼层再通过路由器实现不同交换机间的连接设备数量突破几台的限制形成小规模本地化的网络集群本质通过分层设备交换机负责内网路由器负责跨网段让更多设备有序连接支持更复杂的本地组网需求比如企业内部校园网络广域网打破地域全局互联最终网络突破本地限制走向广域互联将远隔干里的计算机都连在一起特点用路由器连接不同地域的局域网如大阪东京洛杉矶的形成跨城市跨国家的广域网络局域网和广域网的边界被模糊本质是更大范围的连接本质网络从本地化协同升级为全球化互联支持跨地域的数据传输资源共享比如你在上海访问美国服务器的内容所谓局域网和广域网只是一个相对的概念还有天朝特色的城域网城域网是介于局域网和广域网之间以城市为主要覆盖范围的专用公用网络它的本质是局域网技术在城市规模上的应用拓展我们只需要将其看做一个比较大的局域网即可认识协议协议的本质网络协议本质就是一种约定它规定了网络中设备如何通信数据怎么传输之类的就好比大家都说同一种语言才能交流网络协议就是网络设备之间交流的语言像协议就是很常用的它保证了全球的网络能有序联通打个比方就像我们在路上开车得遵守交通规则红灯停绿灯行大家都这么做交通才能顺畅网络协议也是它规定了数据在网络里怎么打包传输接收和处理不同的网络设备像电脑手机服务器等只有都按照这些协议来行事数据才能准确无误地在它们之间传递这样我们才能正常上网冲浪收发邮件什么的所以说它就是一种大家都得遵守的约定计算机中协议的理解协议的生活类比快递盒子上的快递单就类似协议只有双方按格式填写寄件人和收件人才能达成协议约定完成联通同样的收快递时收件人不只是收到了快递还收到了快递单的信息在实际计算机中也是如此当我们收到信息时同时也收到了协议报头等信息计算机协议理解协议用结构体表示成二进制数据添加报头后传输同一网络下双方用相同源代码可认识协议结构体协议本质是二进制约定用结构体定义公共数据类型光电信号含义计算机传光电信号其含义由协议遵守的源代码解释网络协议的标准网络标准定制网络通信需统一标准含软硬件多方面常由顶级团队定制并推广标准推动因素各厂商需要标准协议否则无法进行连通典型的有各手机厂商他们的充电协议适配苹果等标准被接受的驱动力是创造价值吸引他人参与一般推翻较难技术落地关键技术要找应用场景创造价值才能获广泛使用改变世界网络协议分层网络协议分层是因传送问题复杂需逐个解决一旦某种协议落地想要推翻其实很难就像微信用户如此庞大即使做一个仿微信也很难受众像如今竞争如此激烈本质上也存在各国之间想要制定一种协议拿到话语权分层概念软件分层概念核心意思把复杂的软件系统按功能切成一层一层每层只关心自己的事情并且只通过明确的接口与上下层交互例子继承多态子类下层实现细节变化不会影响父类上层的使用虚拟文件系统通过函数指针和统一的数据结构在用户和硬件驱动之间插入中间层用户不用关心底层硬件细节软件分层的原因维护原则为什么要分层降低耦合度上层不必依赖下层的具体实现便于维护大项目拆成小模块出问题时只修对应的层维护原则低耦合层与层之间的接口尽量简单轻量高内聚同一层的代码逻辑数据要紧密相关理想设计高内聚低耦合网络协议分层的原因网络通信特别复杂必须分层技术原因模块化管理方便团队开发调试和扩展问题本身呈层次性主机和相邻设备如何通信物理链路层问题如何找到目标主机网络层问题如何保证数据可靠传输传输层问题分层结构的类比电话通信打电话时你觉得自己直接和对方说话实际上你是在跟电话设备交互信号会经过一系列处理和传输分为语言层人和电话之间的交流协议设备层电话设备与通信网络的协议这样做的好处某一层出问题不会影响其他层降低维护成本分层就是楼房结构每层有自己的功能和规则楼层之间只通过楼梯电梯接口连接改一层不必拆整栋楼软件分层如此网络分层也是如此七层模型虽模型完善不过因分得过细工程实践中网络协议层状结构划分为五层协议自顶向下层数分层名称功能每层功能概览应用层针对特定应用的协议表示层设备固有数据格式和网络标准数据格式的转换会话层通信管理负责建立和断开通信连接数据流动的逻辑通路管理传输层以下的分层传输层管理两个节点之间的数据传输负责可靠传输确保数据被可靠地传送到目标地址网络层地址管理与路由选择数据链路层互连设备之间传送和识别数据帧物理层以代表电压的高低灯光的闪灭界定连接器和网线的规格五层或四层模型是一组协议的代名词它还包括许多协议共同组成了协议簇通讯协议采用了五层的层级结构每一层都呼叫它的下一层所提供的网络来完成自己的需求物理层负责光电信号的传递方式比如现在以太网通用的网线双绞线早期以太网采用的同轴电缆现在主要用于有线电视光纤现在的无线网使用的电磁波等都属于物理层的概念物理层的能力决定了最大传输速率传输距离抗干扰性等集线器集线器就是工作在物理层的数据链路层负责设备之间的数据帧的传送和识别例如网卡设备的驱动帧同步冲突检测如果检测到冲突就自动重发数据差错校验等工作数据链路层底层的网络通信标准有很多如以太网令牌环网无线等交换机就是工作在数据链路层的网络层负责地址管理和路由选择例如在协议中通过地址来标识一台主机并通过路由表的方式规划出两台主机之间数据传输的线路路由路由器就是工作在网络层的传输层负责两台主机之间的数据传输例如传输控制协议能够确保数据可靠的从源主机发送到目标主机应用层负责应用程序间沟通比如简单电子邮件传输文件传输协议网络远程访问协议等我们的网络编程主要就是针对应用层的标准虽好但工程中会话和表示层交给应用层完成网络通信里网络层和传输层最重要代表性协议分别是和物理层我们考虑的比较少因此很多时候也可以称为四层模型一般而言对于一台主机它的操作系统内核实现了从传输层到物理层的内容对于一台路由器它实现了从网络层到物理层的内容对于一台交换机它实现了从数据链路层到物理层的内容对于集线器它只实现了物理层的内容但这并不是绝对的比如很多交换机也实现了网络层的转发很多路由器也实现了部分传输层的内容比如端口转发四层模型和七层模型的概念网络传输以两台主机进行文件传输为例此时各层对应的协议如下首先需要明确的是同一个局域网内的主机是能够直接进行通信的因为最初局域网设计的目的就是为了让局域网内的主机能够进行通信分用思想几乎任何层的协议都要提供一种能力将报头和有效载荷分离的能力几乎任何层的协议都要在报头中提供决定将自己的有效载荷交付给上层的哪一个协议的能力一有效载荷在应用层看有效载荷就是用户的实际数据比如聊天文字图片在某一协议层看有效载荷是来自上一层的整个报文包括上层的报头和上层的用户数据从下到上分链路层网络层传输层应用层每层有对等协议如应用层传输层网络层发数据时上层依赖下层服务收数据时下层为上层解包实现逻辑上的端到端通信比如用户和用户的看似直接交互实际依赖各层协议协作数据封装加头传递层层打包应用层用户进程生成数据如你好传递给应用层协议如应用层协议可能添加一些信息如传输层数据传递到传输层传输层协议如对其进行封装添加序列号确认号等控制信息形成段数据段数据报例如序号你好网络层数据传递到网络层网络层协议如添加源地址和目的地址等头部信息标识主机位置形成数据包例如序号你好链路层数据传递到链路层链路层协议如以太网添加源地址和目的地址等头部信息标识局域网设备形成以太帧例如序号你好物理层最终数据被转换为二进制信号通过物理介质如以太网电缆发送出去解包拆头还原层层上交接收方相反链路层先拆以太网头交给网络层网络层拆头交给传输层传输层拆头还原出应用层数据最终交给用户如服务器收到你好放大网络传输过程数据封装的过程数据分用的过程以太网通信以太网命名的由来世纪物理学家假设宇宙中充满以太认为它是光传播的介质虽然后来实验证明以太并不存在但这个词却留在了科学史上带着一点浪漫色彩和遗憾意味年美国施乐公司罗伯特梅特卡夫正在研究一种局域网技术它的特点是信息可以像广播一样传到网络中的所有节点梅特卡夫灵机一动这不就像当年物理学家设想的以太吗虽然在物理世界里它是虚构的但在计算机世界里我真的做出了这样一个传送信息的介质于是他将这种技术命名为以太网他把数据比作在无形的介质中流动就像以太曾被认为是光传播的介质一样虽然现实中不需要以太但网络中的设备通过电缆或无线互相连接数据在其中自由传输如同以太无处不在所以以太网命名是为了比喻数据在网络中如同在无形介质中传输是对其传输特性的一种形象类比也是对早期科学概念的一种借鉴与致敬既借用了物理学的浪漫也暗示了网络的广播特性这个名字从此流传下来成为计算机世界最重要的基础技术之一局域网通信原理局域网类比教室是多台设备主机共享的通信空间主机电脑打印机等类比每位同学是局域网内的通信主体地址类比同学的名字学号是主机的全球唯一硬件标识由网卡出厂时固化比特长度其核心作用是在局域网内区分不同主机确保唯一性但实际上只需保证在同一局域网内唯一即可局域网内数据传递需经过封装广播筛选处理四步具体如下数据帧封装发送主机将数据打包为数据帧帧中包含源地址发送方身份和目标地址接收方身份类似信件上的寄件人和收件人信息广播传递数据帧通过物理介质网线无线信号发送到局域网后会被同一碰撞域内的所有主机网卡接收类似老师在教室说话所有同学都能听到地址筛选每台主机在数据链路层驱动层解析数据帧对比帧中的目标地址与自身地址若地址匹配如被老师叫到名字的同学做出回应则保留数据并向上层交付处理若地址不匹配如未被叫到的同学选择忽略则直接丢弃数据帧不占用上层资源小结同一局域网内的主机通过数据帧中的地址实现通信数据帧包含源地址发送主机标识和目标地址接收主机标识发送后会被局域网内所有主机的网卡接收但在正常模式下只有目标地址与自身匹配的主机会解析并处理该数据帧从而拿到数据本身其他主机检测到目标地址不匹配后会直接丢弃数据帧不做进一步处理而网卡混杂模式是一种特殊工作状态开启后网卡会接收局域网内所有数据帧无论其目标地址是否为自身这使得其他主机的通信数据可被抓取即数据裸奔但正常情况下网卡默认仅处理目标为自身的帧混杂模式需手动开启常被用于网络调试或潜在安全风险场景局域网的广播特性导致数据在信道中半公开传递存在被窃取的风险尽管底层数据可被捕获对应用层加密仍能保障数据安全以太网底层协议数据链路层网络层逻辑公开如内核开源但应用层可通过加密算法如对数据加密即使数据被抓取未掌握密钥的攻击者也无法解读内容类似对话时用暗号交流偷听者无法理解大部分的抓包软件的原理其实就是使用了网卡的混杂模式对于局域网内传递的信息不做比对丢弃而是全部拿到手数据碰撞问题多设备共享信道的冲突与协调局域网本质是多主机共享物理信道的网络多设备同时发送数据会导致信号干扰即数据碰撞类似教室中多人同时说话导致的混乱碰撞原因与表现原因多台主机同时向信道发送数据时光电信号在物理介质中叠加干扰导致数据帧损坏失效类似多人说话声音混杂无法分辨内容表现数据传输失败网络卡顿如宿舍多人同时上网时网速变慢极端情况下恶意发送大量垃圾数据可直接瘫痪局域网杀敌一千自损八百的攻击逻辑碰撞避免机制为解决碰撞以太网通过随机延迟重发算法协调主机发送时机主机发送数据前检测信道是否空闲空闲则发送若检测到碰撞发送方会收到自身信号与干扰信号的叠加立即停止发送并随机等待一段时间后重试随机延迟通过算法生成大幅降低多主机再次碰撞的概率类似说话冲突后大家随机等待一会儿再开口减少重复抢话碰撞域划分交换机的分区优化局域网内主机越多同时发送数据的概率越高碰撞风险越大为缓解这一问题便可引入交换机设备核心作用通过记录端口与地址对应关系将局域网划分为多个碰撞域类似将大教室拆分为多个小教室优化逻辑当主机向主机发送数据时交换机仅将数据转发到主机所在的端口而非广播到整个网络减少无效数据传播降低碰撞概率注意交换机划分碰撞域后局域网仍是统一网络主机间仍可正常通信如小教室间同学仍能通过老师传递消息本质总结临界资源的有序访问局域网通信的本质是多进程对共享临界资源通信信道的有序访问局域网作为临界资源需通过碰撞检测延迟重发等机制保证互斥访问避免数据冲突每台主机的通信行为由进程驱动如淘宝客户端迅雷下载网络问题本质是进程对共享资源的协调问题系统与网络不分家通过地址实现定向传递通过算法与交换机减少碰撞通过应用层加密保障安全局域网通信机制最终实现了共享信道上的高效准确相对安全的数据交互是构建复杂网络的基础网络中的地址管理与的关系与区别对比地址地址所属层网络层协议数据链路层以太网协议长度位字节总数约亿个目前面临地址枯竭问题位字节极大地扩展了地址空间解决不足问题位字节表示形式常见为点分十进制为冒号分隔的进制冒号或连字符分隔的进制谁分配的网络管理员或服务器分配硬件地址生产网卡时由厂商烧录全球唯一虚拟机中的地址不是真实的地址可能会冲突是否可变可变临时或永久大多数情况不变但部分网卡可手动修改作用标识网络中的位置标识物理设备的身份类比家庭地址你在哪个城市哪条街身份证号唯一标识这个人关键地址是物理设备唯一不随位置变化而变地址是你在网络中的位置标识可能会变比如换网络重启路由器在通信中决定找谁决定送给谁下可以使用命令用于查看配置和管理网络接口用几个关键的含义如下回环接口其实就是一张虚拟的网卡它只存在于操作系统内部不连接任何物理网络设备客户端与服务器之间的通信过程当你从一台电脑客户端通过网络传文件到另一台电脑服务器时数据要经过多个层次和不同类型的网络比如以太网和令牌环网协议就像导航系统负责给数据包写上源地址和目标地址决定它该往哪走路由器就像是交通警察根据地址把数据包从一个网络比如以太网转发到另一个网络比如令牌环网而以太网驱动和令牌环驱动就像是两种不同的交通工具一个适用于以太网一个适用于令牌环网它们负责把数据包打包成对应网络能识别的格式令牌环网直观上就像一群人围成一圈只有拿到令牌通行令牌的人才能说话发数据避免大家同时说话造成混乱保证了通信有序不冲突协议就像全球通信的通用语言它给每台主机一个逻辑地址地址而路由器作为翻译官和导航员工作在层根据地址将数据包从一个网络如以太网转发到另一个网络如令牌环网无论底层是哪种物理网络数据在传输过程中都被封装成报文这样协议屏蔽了以太网令牌环网等底层技术的差异构建了一个统一的虚拟的全球网络层实现了一切皆是报文的互联互通',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-08-12 12:00:00',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 10 || hour >= 20
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://github.com/huangcancan-xbc/Drawing-bed/blob/master/Blog/20250307201719879.png?raw=true"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">社交</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="GitHub"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="GitHub"/><span class="back-menu-item-text">GitHub</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://space.bilibili.com/1918272544" title="哔哩哔哩"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="哔哩哔哩"/><span class="back-menu-item-text">哔哩哔哩</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/huang-cancan-xbc" title="Gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="Gitee"/><span class="back-menu-item-text">Gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.csdn.net/Huangcancan666?type=blog" title="CSDN"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="CSDN"/><span class="back-menu-item-text">CSDN</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://juejin.cn/user/3230789931118109" title="稀土掘金"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="稀土掘金"/><span class="back-menu-item-text">稀土掘金</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">小米里的大麦</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 外链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div></div><div id="nav-right"><div id="nav-naoDark"><div class="container"><div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div></div></div><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212543768.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212543768.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212622868.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212622868.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>8</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>3</sup></a><a href="/tags/IO/" style="font-size: 1.05rem;">IO<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>50</sup></a><a href="/tags/Obsidian/" style="font-size: 1.05rem;">Obsidian<sup>1</sup></a><a href="/tags/STL/" style="font-size: 1.05rem;">STL<sup>2</sup></a><a href="/tags/VS-Code/" style="font-size: 1.05rem;">VS Code<sup>1</sup></a><a href="/tags/%E4%BF%A1%E5%8F%B7/" style="font-size: 1.05rem;">信号<sup>3</sup></a><a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 1.05rem;">内存管理<sup>1</sup></a><a href="/tags/%E5%8E%86%E7%A8%8B/" style="font-size: 1.05rem;">历程<sup>1</sup></a><a href="/tags/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4/" style="font-size: 1.05rem;">地址空间<sup>6</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 1.05rem;">数学<sup>1</sup></a><a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size: 1.05rem;">模板<sup>1</sup></a><a href="/tags/%E7%AE%A1%E9%81%93/" style="font-size: 1.05rem;">管道<sup>2</sup></a><a href="/tags/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/" style="font-size: 1.05rem;">类与对象<sup>3</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 1.05rem;">线程<sup>4</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size: 1.05rem;">网站<sup>2</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">网络<sup>6</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 1.05rem;">进程<sup>15</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">10</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div id="console-naoDark"><div class="container"><div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div></div></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/" itemprop="url">Linux</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Linux/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Linux</span></a><a class="article-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>网络</span></a></span></div></div><h1 class="post-title" itemprop="name headline">045 网络基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-08-12T04:00:00.000Z" title="发表于 2025-08-12 12:00:00">2025-08-12</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-08-12T04:00:00.000Z" title="更新于 2025-08-12 12:00:00">2025-08-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">7.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>21分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="045 网络基础"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为西安"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>西安</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=95a3b92b-7619-0365-f5bc-3e1d0f94cfc8"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div class="post-ai-description"><div class="ai-title"><i class="anzhiyufont anzhiyu-icon-bilibili"></i><div class="ai-title-text">AI-摘要</div><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i><i class="anzhiyufont anzhiyu-icon-circle-dot" title="朗读摘要"></i><div id="ai-tag">小米里的大麦 GPT</div></div><div class="ai-explanation">AI初始化中...</div><div class="ai-btn-box"><div class="ai-btn-item">介绍自己 🙈</div><div class="ai-btn-item">生成本文简介 👋</div><div class="ai-btn-item">推荐相关文章 📖</div><div class="ai-btn-item">前往主页 🏠</div><div class="ai-btn-item" id="go-tianli-blog">前往爱发电购买</div></div><script data-pjax src="/js/anzhiyu/ai_abstract.js"></script></div><article class="post-content" id="article-container" itemscope itemtype="https://www.minbit.top/posts/47537.html"><header><a class="post-meta-categories" href="/categories/Linux/" itemprop="url">Linux</a><a href="/tags/Linux/" tabindex="-1" itemprop="url">Linux</a><a href="/tags/%E7%BD%91%E7%BB%9C/" tabindex="-1" itemprop="url">网络</a><h1 id="CrawlerTitle" itemprop="name headline">045 网络基础</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">小米里的大麦</span><time itemprop="dateCreated datePublished" datetime="2025-08-12T04:00:00.000Z" title="发表于 2025-08-12 12:00:00">2025-08-12</time><time itemprop="dateCreated datePublished" datetime="2025-08-12T04:00:00.000Z" title="更新于 2025-08-12 12:00:00">2025-08-12</time></header><h1 id="网络基础"><a href="#网络基础" class="headerlink" title="网络基础"></a>网络基础</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yuanyuzhou/p/16195954.html">网络入门基础 | 博客园</a></p>
</blockquote>
<h2 id="1-计算机网络背景"><a href="#1-计算机网络背景" class="headerlink" title="1. 计算机网络背景"></a>1. 计算机网络背景</h2><h3 id="1-网络发展"><a href="#1-网络发展" class="headerlink" title="1. 网络发展"></a>1. 网络发展</h3><p>计算机网络的发展是技术迭代与需求驱动共同作用出的历史必然结果，据搜索：可大致分为以下 5 个关键阶段：</p>
<h4 id="1-起源：军事科研的-“抗毁通信”-需求（20-世纪-60-年代末）"><a href="#1-起源：军事科研的-“抗毁通信”-需求（20-世纪-60-年代末）" class="headerlink" title="1. 起源：军事科研的 “抗毁通信” 需求（20 世纪 60 年代末）"></a>1. 起源：军事科研的 “抗毁通信” 需求（20 世纪 60 年代末）</h4><ul>
<li><strong>核心事件</strong>：1969 年，美国国防部高级研究计划局（ARPA）启动了 ARPANET（阿帕网）项目。当时正值冷战，美国军方需要一种 “去中心化” 的通信网络 —— 即使部分节点被摧毁，其余节点仍能正常通信。</li>
<li><strong>技术特点</strong>：ARPANET 最初仅连接了加州大学洛杉矶分校、斯坦福研究院等 4 个节点，采用 “分组交换” 技术（将数据拆分成小数据包传输，提高效率和抗毁性），这是现代网络的核心底层逻辑雏形。</li>
</ul>
<h4 id="2-互联基础：TCP-IP-协议的诞生（20-世纪-70-年代）"><a href="#2-互联基础：TCP-IP-协议的诞生（20-世纪-70-年代）" class="headerlink" title="2. 互联基础：TCP&#x2F;IP 协议的诞生（20 世纪 70 年代）"></a>2. 互联基础：TCP&#x2F;IP 协议的诞生（20 世纪 70 年代）</h4><ul>
<li><strong>核心问题</strong>：随着网络节点增多，不同网络（如 ARPANET 与其他科研网络）因 “语言不通” 无法互通。</li>
<li><strong>关键突破</strong>：1974 年，文顿 ・ 瑟夫（Vinton Cerf）和罗伯特 ・ 卡恩（Robert Kahn）提出了 <strong>TCP&#x2F;IP 协议族</strong>（传输控制协议 &#x2F; 网际协议）。其中，IP 协议负责 “定位” 网络中的设备（类似地址），TCP 协议负责 “可靠传输” 数据（确保数据完整、有序到达）。</li>
<li><strong>意义</strong>：TCP&#x2F;IP 协议解决了 “不同网络如何互联” 的问题，成为全球网络的 “通用语言”，为互联网的全球化奠定了基础。</li>
</ul>
<h4 id="3-扩张：从军事到学术的开放（20-世纪-80-年代）"><a href="#3-扩张：从军事到学术的开放（20-世纪-80-年代）" class="headerlink" title="3. 扩张：从军事到学术的开放（20 世纪 80 年代）"></a>3. 扩张：从军事到学术的开放（20 世纪 80 年代）</h4><ul>
<li><strong>核心事件</strong>：1986 年，美国国家科学基金会（NSF）建立了 NSFNET（国家科学基金会网络），将全美高校和科研机构的网络连接起来，并开放了 TCP&#x2F;IP 协议的使用权限。</li>
<li><strong>变化</strong>：网络用途从军事转向学术研究，科学家、教授可以通过网络共享数据、协作研究，网络规模快速扩大，节点数从数百增长到数万。</li>
</ul>
<h4 id="4-普及：万维网与浏览器让互联网-“触手可及”（20-世纪-90-年代）"><a href="#4-普及：万维网与浏览器让互联网-“触手可及”（20-世纪-90-年代）" class="headerlink" title="4. 普及：万维网与浏览器让互联网 “触手可及”（20 世纪 90 年代）"></a>4. 普及：万维网与浏览器让互联网 “触手可及”（20 世纪 90 年代）</h4><ul>
<li><strong>核心突破</strong>：1989 年，英国科学家蒂姆 ・ 伯纳斯 - 李（Tim Berners-Lee）在欧洲核子研究中心（CERN）提出 “万维网（WWW）” 构想，通过 “超文本传输协议（HTTP）” 和 “统一资源定位符（URL）” 实现文本、图片等内容的跨网络链接；1993 年，Mosaic 浏览器（首款图形化浏览器）诞生，普通人无需专业知识即可上网。</li>
<li><strong>意义</strong>：互联网从 “科研工具” 转变为大众可使用的信息平台，网页、电子邮件、早期搜索引擎（如 Yahoo）开始普及，标志着 “互联网时代” 正式到来。</li>
</ul>
<h4 id="5-爆发：移动化、智能化与全场景渗透（21-世纪至今）"><a href="#5-爆发：移动化、智能化与全场景渗透（21-世纪至今）" class="headerlink" title="5. 爆发：移动化、智能化与全场景渗透（21 世纪至今）"></a>5. 爆发：移动化、智能化与全场景渗透（21 世纪至今）</h4><ul>
<li><strong>技术驱动</strong>：宽带网络（提高传输速度）、移动互联网（3G&#x2F;4G&#x2F;5G 让网络摆脱有线束缚）、社交媒体（如 Facebook、微信）、云计算（远程存储与算力共享）、物联网（设备互联）等技术持续突破。</li>
<li><strong>现状</strong>：互联网从 “信息传递工具” 升级为 “社会基础设施”，渗透到购物、办公、教育、医疗等几乎所有领域，形成了 “万物互联” 的数字生态。</li>
</ul>
<h3 id="2-网络连接形态演进"><a href="#2-网络连接形态演进" class="headerlink" title="2. 网络连接形态演进"></a>2. 网络连接形态演进</h3><h4 id="1-独立模式-——-计算机之间相互独立，数据封闭"><a href="#1-独立模式-——-计算机之间相互独立，数据封闭" class="headerlink" title="1. 独立模式 —— 计算机之间相互独立，数据封闭"></a>1. 独立模式 —— 计算机之间相互独立，数据封闭</h4><p>这是网络发展最原始的状态 —— 计算机相互独立，数据、业务完全本地化。</p>
<ul>
<li><strong>特点</strong>：每个终端（A&#x2F;B&#x2F;C）“各自为战”，业务 ①&#x2F;②&#x2F;③ 的数据只存在于对应终端；人（小松、小竹、小梅 ）要切换业务，必须 “物理移动” 到对应终端前，且需等待前一个人用完（串行处理）。</li>
<li><strong>本质</strong>：没有网络连接，设备间无法协同，资源（数据、算力）无法共享，效率极低。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808002036571.png"></p>
<h4 id="2-网络互联-——-多台计算机连接在一起，完成数据共享"><a href="#2-网络互联-——-多台计算机连接在一起，完成数据共享" class="headerlink" title="2. 网络互联 —— 多台计算机连接在一起，完成数据共享"></a>2. 网络互联 —— 多台计算机连接在一起，完成数据共享</h4><p>随着需求升级，“多机互联 + 服务器集中管理” 的模式出现，解决独立模式的低效问题。</p>
<ul>
<li><strong>特点</strong>：引入 “服务器” 作为 “数据中心”，小松、小竹、小梅有了 <strong>专属计算机</strong>，业务 ①&#x2F;②&#x2F;③ 的数据不再分散在终端，而是统一存在服务器里；人无需物理移动，通过专属计算机就能自由切换业务（并行处理）。</li>
<li><strong>本质</strong>：网络开始发挥 “连接与共享” 价值 —— 通过服务器集中管理数据，多设备可协同，资源利用效率大幅提升。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808002300554.png"></p>
<h4 id="3-局域网（LAN）-——-规模扩大，设备分层连接"><a href="#3-局域网（LAN）-——-规模扩大，设备分层连接" class="headerlink" title="3. 局域网（LAN） —— 规模扩大，设备分层连接"></a>3. 局域网（LAN） —— 规模扩大，设备分层连接</h4><p>当用户、设备数量进一步增加，“交换机 + 路由器” 组成的局域网架构出现，解决 <strong>多设备高效组网</strong> 问题。</p>
<ul>
<li><strong>特点</strong>：用交换机连接 “同一区域内的设备”（如一个办公室 &#x2F; 楼层），再通过路由器实现 “不同交换机间的连接”；设备数量突破 “几台” 的限制，形成 <strong>小规模、本地化的网络集群</strong>。</li>
<li><strong>本质</strong>：通过 “分层设备（交换机负责内网，路由器负责跨网段）”，让更多设备有序连接，支持更复杂的本地组网需求（比如企业内部、校园网络 ）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808002835147.png"></p>
<h4 id="4-广域网（WAN）-——-打破地域，全局互联"><a href="#4-广域网（WAN）-——-打破地域，全局互联" class="headerlink" title="4. 广域网（WAN） —— 打破地域，全局互联"></a>4. 广域网（WAN） —— 打破地域，全局互联</h4><p>最终，网络突破 “本地” 限制，走向广域互联，将远隔干里的计算机都连在一起。</p>
<ul>
<li><strong>特点</strong>：用路由器连接 “不同地域的局域网”（如大阪、东京、洛杉矶的 LAN），形成跨城市、跨国家的 <strong>广域网络</strong>；“局域网” 和 “广域网” 的边界被模糊（本质是 “更大范围的连接”）。</li>
<li><strong>本质</strong>：网络从 “本地化协同” 升级为 “全球化互联”，支持跨地域的数据传输、资源共享（比如你在上海访问美国服务器的内容 ）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808003003883.png"></p>
<p><strong>所谓 “局域网” 和 “广域网” 只是一个相对的概念，还有 “天朝特色” 的城域网，城域网是 介于局域网和广域网之间，以城市为主要覆盖范围的专用 &#x2F; 公用网络 ，它的本质是 局域网技术在城市规模上的应用拓展 ，我们只需要将其看做一个比较大的局域网即可。</strong></p>
<h2 id="2-认识协议"><a href="#2-认识协议" class="headerlink" title="2. 认识协议"></a>2. 认识协议</h2><h3 id="1-协议的本质"><a href="#1-协议的本质" class="headerlink" title="1. 协议的本质"></a>1. 协议的本质</h3><p><strong>网络协议本质就是一种约定</strong>。它规定了网络中设备如何通信、数据怎么传输之类的。就好比大家都说同一种语言才能交流，网络协议就是网络设备之间交流的“语言”，像 TCP&#x2F;IP 协议就是很常用的，它保证了全球的网络能有序联通。</p>
<p>打个比方，就像我们在路上开车，得遵守交通规则，红灯停绿灯行，大家都这么做，交通才能顺畅。网络协议也是，它规定了数据在网络里怎么打包、传输、接收和处理。不同的网络设备，像电脑、手机、服务器等，只有都按照这些协议来“行事”，数据才能准确无误地在它们之间传递，这样我们才能正常上网冲浪、收发邮件什么的，所以说它就是一种大家都得遵守的约定。</p>
<h3 id="2-计算机中协议的理解"><a href="#2-计算机中协议的理解" class="headerlink" title="2. 计算机中协议的理解"></a>2. 计算机中协议的理解</h3><ul>
<li><strong>协议的生活类比</strong>：快递盒子上的快递单就类似协议，只有双方按格式填写，寄件人和收件人才能达成协议&#x2F;约定完成“联通”。同样的，收快递时收件人不只是收到了快递，还收到了快递单的信息，在实际计算机中也是如此，当我们收到信息时，同时也收到了协议报头等信息。</li>
<li><strong>计算机协议理解：</strong><ul>
<li>协议用结构体表示成二进制数据，添加报头后传输。</li>
<li>同一网络下，双方用相同源代码可认识协议结构体。</li>
<li>协议本质是二进制约定，用结构体定义公共数据类型。</li>
</ul>
</li>
<li><strong>光电信号含义</strong>：计算机传光电信号，其含义由协议遵守的源代码解释。</li>
</ul>
<h3 id="3-网络协议的标准"><a href="#3-网络协议的标准" class="headerlink" title="3. 网络协议的标准"></a>3. 网络协议的标准</h3><ul>
<li><strong>网络标准定制</strong>：网络通信需统一标准，含软硬件多方面，常由顶级团队定制并推广。</li>
<li><strong>标准推动因素</strong>：各厂商需要标准协议，否则无法进行连通，典型的有各手机厂商他们的充电协议、适配苹果等。标准被接受的驱动力是创造价值，吸引他人参与，一般推翻较难。</li>
<li><strong>技术落地关键</strong>：技术要找应用场景，创造价值，才能获广泛使用，改变世界。</li>
<li><strong>网络协议分层</strong>：网络协议分层是因传送问题复杂，需逐个解决。</li>
</ul>
<blockquote>
<p>一旦某种协议落地，想要推翻其实很难，就像微信用户如此庞大，即使做一个仿微信 APP 也很难受众。像如今 AI 竞争如此激烈，本质上也存在各国之间想要制定一种协议，拿到话语权。</p>
</blockquote>
<h2 id="3-分层概念"><a href="#3-分层概念" class="headerlink" title="3. 分层概念"></a>3. 分层概念</h2><h3 id="1-软件分层概念"><a href="#1-软件分层概念" class="headerlink" title="1. 软件分层概念"></a>1. 软件分层概念</h3><p><strong>核心意思</strong>：把复杂的软件系统按功能切成一层一层，每层只关心自己的事情，并且只通过明确的接口与上下层交互。例子：</p>
<ul>
<li><strong>C++ 继承 + 多态：</strong> 子类（下层）实现细节变化，不会影响父类（上层）的使用。</li>
<li><strong>虚拟文件系统（VFS）：</strong> 通过函数指针和统一的数据结构，在用户和硬件驱动之间插入“中间层”，用户不用关心底层硬件细节。</li>
</ul>
<h3 id="2-软件分层的原因-维护原则"><a href="#2-软件分层的原因-维护原则" class="headerlink" title="2. 软件分层的原因 &amp; 维护原则"></a>2. 软件分层的原因 &amp; 维护原则</h3><p><strong>为什么要分层？</strong></p>
<ul>
<li><strong>降低耦合度</strong>：上层不必依赖下层的具体实现</li>
<li><strong>便于维护</strong>：大项目拆成小模块，出问题时只修对应的层</li>
</ul>
<p><strong>维护原则：</strong></p>
<ol>
<li><strong>低耦合</strong>：层与层之间的接口尽量简单、轻量</li>
<li><strong>高内聚</strong>：同一层的代码、逻辑、数据要紧密相关</li>
</ol>
<blockquote>
<p>  理想设计 &#x3D; <strong>高内聚 + 低耦合</strong></p>
</blockquote>
<h3 id="3-网络协议分层的原因"><a href="#3-网络协议分层的原因" class="headerlink" title="3. 网络协议分层的原因"></a>3. 网络协议分层的原因</h3><p>网络通信特别复杂，必须分层：</p>
<ul>
<li><strong>技术原因</strong>：模块化管理，方便团队开发、调试和扩展。</li>
<li><strong>问题本身呈层次性</strong>：<ol>
<li>主机和相邻设备如何通信（物理&#x2F;链路层问题）</li>
<li>如何找到目标主机（网络层问题）</li>
<li>如何保证数据可靠传输（传输层问题）</li>
</ol>
</li>
</ul>
<h3 id="4-分层结构的类比（电话通信）"><a href="#4-分层结构的类比（电话通信）" class="headerlink" title="4. 分层结构的类比（电话通信）"></a>4. 分层结构的类比（电话通信）</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808144205310.png"></p>
<p>打电话时，你觉得自己直接和对方说话，实际上，你是在跟 <strong>电话设备</strong> 交互，信号会经过一系列处理和传输。分为：</p>
<ul>
<li><strong>语言层</strong>（人和电话之间的交流协议）</li>
<li><strong>设备层</strong>（电话设备与通信网络的协议）</li>
</ul>
<p>这样做的好处：某一层出问题，不会影响其他层 → 降低维护成本</p>
<blockquote>
<p>  分层就是“楼房结构”——每层有自己的功能和规则，楼层之间只通过楼梯&#x2F;电梯（接口）连接，改一层不必拆整栋楼。软件分层如此，网络分层也是如此。</p>
</blockquote>
<h2 id="4-OSI-七层模型"><a href="#4-OSI-七层模型" class="headerlink" title="4. OSI 七层模型"></a>4. OSI 七层模型</h2><p>虽 OSI 模型完善，不过因分得过细，工程实践中网络协议层状结构划分为五层协议。</p>
<table>
<thead>
<tr>
<th>自顶向下层数</th>
<th>分层名称</th>
<th>功能</th>
<th>每层功能概览</th>
</tr>
</thead>
<tbody><tr>
<td>7</td>
<td>应用层</td>
<td>针对特定应用的协议</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132236390.png" alt="PixPin_2025-08-08_13-22-30"></td>
</tr>
<tr>
<td>6</td>
<td>表示层</td>
<td>设备固有数据格式和网络标准数据格式的转换</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132319164.png" alt="PixPin_2025-08-08_13-23-13"></td>
</tr>
<tr>
<td>5</td>
<td>会话层</td>
<td>通信管理。负责建立和断开通信连接（数据流动的逻辑通路）。管理传输层以下的分层</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132425218.png" alt="PixPin_2025-08-08_13-24-22"></td>
</tr>
<tr>
<td>4</td>
<td>传输层</td>
<td>管理两个节点之间的数据传输。负责可靠传输（确保数据被可靠地传送到目标地址）</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132459610.png" alt="PixPin_2025-08-08_13-24-52"></td>
</tr>
<tr>
<td>3</td>
<td>网络层</td>
<td>地址管理与路由选择</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132544616.png" alt="PixPin_2025-08-08_13-25-40"></td>
</tr>
<tr>
<td>2</td>
<td>数据链路层</td>
<td>互连设备之间传送和识别数据帧</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132649838.png" alt="PixPin_2025-08-08_13-26-47"></td>
</tr>
<tr>
<td>1</td>
<td>物理层</td>
<td>以“0”、”1” 代表电压的高低、灯光的闪灭。界定连接器和网线的规格</td>
<td><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808132729788.png" alt="PixPin_2025-08-08_13-27-25"></td>
</tr>
</tbody></table>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808134907486.png" alt="PixPin_2025-08-08_13-48-56"></p>
<hr>
<h2 id="5-TCP-IP-五层（或四层）模型"><a href="#5-TCP-IP-五层（或四层）模型" class="headerlink" title="5. TCP&#x2F;IP 五层（或四层）模型"></a>5. TCP&#x2F;IP 五层（或四层）模型</h2><p>TCP&#x2F;IP 是一组协议的代名词，它还包括许多协议，共同组成了 TCP&#x2F;IP 协议簇。TCP&#x2F;IP 通讯协议采用了五层的层级结构，每一层都呼叫它的下一层所提供的网络来完成自己的需求。</p>
<ul>
<li><strong>物理层：</strong> 负责光&#x2F;电信号的传递方式。比如现在以太网通用的网线（双绞线）、早期以太网采用的同轴电缆（现在主要用于有线电视）、光纤，现在的 WiFi 无线网使用的电磁波等都属于物理层的概念。物理层的能力决定了最大传输速率、传输距离、抗干扰性等。[集线器](<a target="_blank" rel="noopener" href="https://www.bing.com/images/search?q=%E9%9B%86%E7%BA%BF%E5%99%A8&form=HDRSC2&first=1">集线器 - Search Images</a>)（Hub）就是工作在物理层的。</li>
<li><strong>数据链路层：</strong> 负责设备之间的数据帧的传送和识别。例如网卡设备的驱动、帧同步、冲突检测（如果检测到冲突就自动重发）、数据差错校验等工作。数据链路层底层的网络通信标准有很多，如以太网、令牌环网、无线 LAN 等。交换机（Switch）就是工作在数据链路层的。</li>
<li><strong>网络层：</strong> 负责地址管理和路由选择。例如在 IP 协议中，通过 IP 地址来标识一台主机，并通过路由表的方式规划出两台主机之间数据传输的线路（路由）。路由器（Router）就是工作在网络层的。</li>
<li><strong>传输层：</strong> 负责两台主机之间的数据传输。例如传输控制协议（TCP），能够确保数据可靠的从源主机发送到目标主机。</li>
<li><strong>应用层：</strong> 负责应用程序间沟通。比如简单电子邮件传输（SMTP）、文件传输协议（FTP）、网络远程访问协议（Telnet）等。我们的网络编程主要就是针对应用层的。</li>
</ul>
<p><strong>标准虽好，但工程中会话和表示层交给应用层完成。网络通信里网络层和传输层最重要，代表性协议分别是 IP 和 TCP。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808135840129.png" alt="PixPin_2025-08-08_13-58-36"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808135934065.png" alt="PixPin_2025-08-08_13-59-29"></p>
<p>物理层我们考虑的比较少，因此很多时候也可以称为 TCP&#x2F;IP 四层模型，一般而言：</p>
<ul>
<li>对于一台主机，它的操作系统内核实现了从传输层到物理层的内容。</li>
<li>对于一台路由器，它实现了从网络层到物理层的内容。</li>
<li>对于一台交换机，它实现了从数据链路层到物理层的内容。</li>
<li>对于集线器，它只实现了物理层的内容。</li>
</ul>
<p>但这并不是绝对的，比如很多交换机也实现了网络层的转发，很多路由器也实现了部分传输层的内容（比如端口转发）。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/superjunjin/article/details/7841099">TCP&#x2F;IP 四层模型和 OSI 七层模型的概念 | CSDN</a></p>
</blockquote>
<hr>
<h2 id="6-网络传输"><a href="#6-网络传输" class="headerlink" title="6. 网络传输"></a>6. 网络传输</h2><p>以两台主机进行文件传输为例，此时各层对应的协议如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808145030202.png" alt="PixPin_2025-08-08_14-50-12"></p>
<p>首先需要明确的是，同一个局域网内的主机是能够直接进行通信的，因为最初局域网设计的目的，就是为了让局域网内的主机能够进行通信。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808151435992.png" alt="PixPin_2025-08-08_15-12-53"></p>
<blockquote>
<p>分用思想：</p>
<ul>
<li>几乎任何层的协议，都要提供一种能力，将报头和有效载荷分离的能力。</li>
<li>几乎任何层的协议，都要在报头中提供，决定将自己的有效载荷交付给上层的哪一个协议的能力一。</li>
</ul>
<p>有效载荷：</p>
<ul>
<li><strong>在应用层看</strong>：有效载荷就是用户的实际数据（比如聊天文字、图片）。</li>
<li><strong>在某一协议层看</strong>：有效载荷是来自 <strong>上一层的整个报文</strong>（包括上层的报头和上层的用户数据）。</li>
</ul>
</blockquote>
<p>从下到上分 <strong>链路层、网络层、传输层、应用层</strong>，每层有 “对等协议”（如应用层 FTP、传输层 TCP、网络层 IP ），发数据时上层依赖下层服务，收数据时下层为上层 “解包”，实现 <strong>“逻辑上的端到端通信”</strong>（比如用户 1 和用户 2 的 FTP，看似直接交互，实际依赖各层协议协作）。</p>
<h3 id="1-数据封装：“加头”-传递，层层打包"><a href="#1-数据封装：“加头”-传递，层层打包" class="headerlink" title="1. 数据封装：“加头” 传递，层层打包"></a>1. 数据封装：“加头” 传递，层层打包</h3><ol>
<li><p><strong>应用层：</strong> 用户进程生成数据（如“你好”），传递给应用层协议（如 FTP）。应用层协议可能添加一些信息（如“V1”）。</p>
</li>
<li><p><strong>传输层：</strong> 数据传递到传输层，传输层协议（如 TCP）对其进行封装。TCP 添加序列号、确认号等控制信息，形成 TCP 段（数据段、数据报）。例如：“序号 V1 你好”。</p>
</li>
<li><p><strong>网络层：</strong> 数据传递到网络层，网络层协议（如 IP）添加源 IP 地址和目的 IP 地址等头部信息，标识 “主机位置”，形成 IP <strong>数据包</strong>。例如：“src, dst 序号 V1 你好”。</p>
</li>
<li><p><strong>链路层：</strong> 数据传递到链路层，链路层协议（如以太网）添加源 MAC 地址和目的 MAC 地址等头部信息，标识 “局域网设备”，形成 <strong>以太帧</strong>。例如：“src mac dst mac src, dst 序号 V1 你好”。</p>
</li>
<li><p><strong>物理层：</strong> 最终，数据被转换为二进制信号，通过物理介质（如以太网电缆）发送出去。</p>
</li>
</ol>
<h3 id="2-解包：“拆头”-还原，层层上交"><a href="#2-解包：“拆头”-还原，层层上交" class="headerlink" title="2. 解包：“拆头” 还原，层层上交"></a>2. 解包：“拆头” 还原，层层上交</h3><p>接收方相反：链路层先拆 “以太网头”，交给网络层；网络层拆 “IP 头”，交给传输层；传输层拆 “TCP 头”，还原出应用层数据，最终交给用户（如 FTP 服务器收到 “V1 你好” ）。</p>
<h3 id="3-放大网络传输过程"><a href="#3-放大网络传输过程" class="headerlink" title="3. 放大网络传输过程"></a>3. 放大网络传输过程</h3><p>数据 <strong>封装</strong> 的过程：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808153856672.png" alt="PixPin_2025-08-08_15-38-41"></p>
<p>数据 <strong>分用</strong> 的过程：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808153953492.png" alt="PixPin_2025-08-08_15-39-44"></p>
<h2 id="7-以太网通信"><a href="#7-以太网通信" class="headerlink" title="7. 以太网通信"></a>7. 以太网通信</h2><h3 id="1-以太网命名的由来"><a href="#1-以太网命名的由来" class="headerlink" title="1. 以太网命名的由来"></a>1. 以太网命名的由来</h3><p>19 世纪，物理学家假设宇宙中充满 “以太”，认为它是光传播的介质。虽然后来实验证明以太并不存在，但这个词却留在了科学史上，带着一点浪漫色彩和遗憾意味。1973 年，美国施乐公司罗伯特·梅特卡夫正在研究一种局域网技术。它的特点是信息可以像广播一样传到网络中的所有节点。梅特卡夫灵机一动：这不就像当年物理学家设想的“以太”吗？虽然在物理世界里它是虚构的，但在计算机世界里，我真的做出了这样一个“传送信息的介质”！于是，他将这种技术命名为 <strong>Ethernet（以太网）</strong>。他把数据比作在 “无形的介质” 中流动，就像 “以太” 曾被认为是光传播的介质一样，虽然现实中不需要以太，但网络中的设备通过电缆（或无线）互相连接，数据在其中自由传输，如同 “以太” 无处不在。所以以太网命名是为了比喻数据在网络中如同在 “无形介质” 中传输，是对其传输特性的一种形象类比，也是对早期科学概念的一种借鉴与致敬，既借用了物理学的浪漫，也暗示了网络的广播特性。这个名字从此流传下来，成为计算机世界最重要的基础技术之一。</p>
<h3 id="2-局域网（LAN）通信原理"><a href="#2-局域网（LAN）通信原理" class="headerlink" title="2. 局域网（LAN）通信原理"></a>2. 局域网（LAN）通信原理</h3><ul>
<li><strong>局域网（LAN）：</strong> 类比 “教室”，是多台设备（主机）共享的通信空间。</li>
<li><strong>主机（电脑、打印机等）：</strong> 类比 “每位同学”，是局域网内的通信主体。</li>
<li><strong>MAC 地址：</strong> 类比 “同学的名字 &#x2F; 学号”，是主机的全球唯一硬件标识（由网卡出厂时固化，48 比特长度）。其核心作用是在局域网内区分不同主机，确保唯一性（但实际上只需保证在同一局域网内唯一即可））。</li>
</ul>
<p>局域网内数据传递需经过 “<strong>封装 - 广播 - 筛选 - 处理</strong>” 四步，具体如下：</p>
<ul>
<li><strong>数据帧封装：</strong> 发送主机将数据打包为 “数据帧”，帧中包含 <strong>源 MAC 地址</strong>（发送方身份）和 <strong>目标 MAC 地址</strong>（接收方身份），类似信件上的 “寄件人” 和 “收件人” 信息。</li>
<li><strong>广播传递：</strong> 数据帧通过物理介质（网线、无线信号）发送到局域网后，会被 <strong>同一碰撞域内的所有主机网卡接收</strong>（类似老师在教室说话，所有同学都能听到）。</li>
<li><strong>地址筛选：</strong> 每台主机在数据链路层（驱动层）解析数据帧，对比帧中的 “目标 MAC 地址” 与自身 MAC 地址：<ul>
<li>若地址匹配（如 “被老师叫到名字的同学做出回应”），则保留数据并向上层交付处理；</li>
<li>若地址不匹配（如 “未被叫到的同学选择忽略”），则直接丢弃数据帧，不占用上层资源。</li>
</ul>
</li>
</ul>
<h3 id="3-小结"><a href="#3-小结" class="headerlink" title="3. 小结"></a>3. 小结</h3><p><strong>同一局域网内的主机通过数据帧中的 MAC 地址实现通信。数据帧包含源 MAC 地址（发送主机标识）和目标 MAC 地址（接收主机标识），发送后会被局域网内所有主机的网卡接收。但在正常模式下，只有目标 MAC 地址与自身匹配的主机会解析并处理该数据帧，从而拿到数据本身；其他主机检测到目标 MAC 地址不匹配后，会直接丢弃数据帧，不做进一步处理。</strong></p>
<p>而 “网卡混杂模式” 是一种特殊工作状态，开启后网卡会接收局域网内所有数据帧，无论其目标 MAC 地址是否为自身，这使得其他主机的通信数据可被抓取（即 “数据裸奔”）。但正常情况下，网卡默认仅处理目标为自身的帧，混杂模式需手动开启，常被用于网络调试或潜在安全风险场景。局域网的广播特性导致数据在信道中 “半公开传递”，存在被窃取的风险，尽管底层数据可被捕获，对 <strong>应用层加密</strong> 仍能保障数据安全：</p>
<ul>
<li>以太网底层协议（数据链路层、网络层）逻辑公开（如 Linux 内核开源），但应用层可通过加密算法（如 HTTPS）对数据加密；</li>
<li>即使数据被抓取，未掌握密钥的攻击者也无法解读内容（类似对话时用暗号交流，偷听者无法理解）。</li>
</ul>
<blockquote>
<p>大部分的抓包软件的原理其实就是使用了网卡的混杂模式，对于局域网内传递的信息不做比对丢弃，而是全部拿到手。</p>
</blockquote>
<h2 id="8-数据碰撞问题：多设备共享信道的-“冲突与协调”"><a href="#8-数据碰撞问题：多设备共享信道的-“冲突与协调”" class="headerlink" title="8. 数据碰撞问题：多设备共享信道的 “冲突与协调”"></a>8. 数据碰撞问题：多设备共享信道的 “冲突与协调”</h2><p>局域网本质是 “多主机共享物理信道” 的网络，多设备同时发送数据会导致信号干扰，即 “数据碰撞”，类似教室中多人同时说话导致的混乱。</p>
<h3 id="1-碰撞原因与表现"><a href="#1-碰撞原因与表现" class="headerlink" title="1. 碰撞原因与表现"></a>1. 碰撞原因与表现</h3><ul>
<li><strong>原因</strong>：多台主机同时向信道发送数据时，光电信号在物理介质中叠加干扰，导致数据帧损坏失效（类似多人说话声音混杂，无法分辨内容）。</li>
<li><strong>表现</strong>：数据传输失败、网络卡顿（如宿舍多人同时上网时网速变慢）；极端情况下，恶意发送大量垃圾数据可直接瘫痪局域网（“杀敌一千自损八百” 的攻击逻辑）。</li>
</ul>
<h3 id="2-碰撞避免机制"><a href="#2-碰撞避免机制" class="headerlink" title="2. 碰撞避免机制"></a>2. 碰撞避免机制</h3><p>为解决碰撞，以太网通过 “随机延迟重发算法” 协调主机发送时机：</p>
<ul>
<li>主机发送数据前检测信道是否空闲，空闲则发送；</li>
<li>若检测到碰撞（发送方会收到自身信号与干扰信号的叠加），立即停止发送，并 <strong>随机等待一段时间后重试</strong>；</li>
<li>随机延迟通过算法生成，大幅降低多主机再次碰撞的概率（类似说话冲突后，大家随机等待一会儿再开口，减少重复抢话）。</li>
</ul>
<h3 id="3-碰撞域划分：交换机的-“分区优化”"><a href="#3-碰撞域划分：交换机的-“分区优化”" class="headerlink" title="3. 碰撞域划分：交换机的 “分区优化”"></a>3. 碰撞域划分：交换机的 “分区优化”</h3><p>局域网内主机越多，同时发送数据的概率越高，碰撞风险越大。为缓解这一问题，便可引入 <strong>交换机</strong> 设备：</p>
<ul>
<li><strong>核心作用</strong>：通过记录 “端口与 MAC 地址对应关系”，将局域网划分为多个 <strong>碰撞域</strong>（类似将大教室拆分为多个小教室）。</li>
<li><strong>优化逻辑</strong>：当主机 A 向主机 B 发送数据时，交换机仅将数据转发到主机 B 所在的端口，而非广播到整个网络，减少无效数据传播，降低碰撞概率。</li>
<li><strong>注意</strong>：交换机划分碰撞域后，局域网仍是统一网络，主机间仍可正常通信（如小教室间同学仍能通过老师传递消息）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250808214531993.png" alt="PixPin_2025-08-08_21-45-18"></p>
<h3 id="4-本质总结：临界资源的-“有序访问”"><a href="#4-本质总结：临界资源的-“有序访问”" class="headerlink" title="4. 本质总结：临界资源的 “有序访问”"></a>4. 本质总结：临界资源的 “有序访问”</h3><p>局域网通信的本质是 <strong>多进程对共享临界资源（通信信道）的有序访问</strong>：</p>
<ul>
<li>局域网作为 “临界资源”，需通过碰撞检测、延迟重发等机制保证 “互斥访问”，避免数据冲突；</li>
<li>每台主机的通信行为由进程驱动（如淘宝客户端、迅雷下载），网络问题本质是进程对共享资源的协调问题 ——“系统与网络不分家”。</li>
</ul>
<p>通过 MAC 地址实现定向传递、通过算法与交换机减少碰撞、通过应用层加密保障安全，局域网通信机制最终实现了 “共享信道上的高效、准确、相对安全的数据交互”，是构建复杂网络的基础。</p>
<hr>
<h2 id="9-网络中的地址管理"><a href="#9-网络中的地址管理" class="headerlink" title="9. 网络中的地址管理"></a>9. 网络中的地址管理</h2><h3 id="1-IP-与-MAC-的关系与区别"><a href="#1-IP-与-MAC-的关系与区别" class="headerlink" title="1. IP 与 MAC 的关系与区别"></a>1. IP 与 MAC 的关系与区别</h3><table>
<thead>
<tr>
<th>对比</th>
<th>IP 地址</th>
<th>MAC 地址</th>
</tr>
</thead>
<tbody><tr>
<td>所属层</td>
<td>网络层（IP 协议）</td>
<td>数据链路层（以太网协议）</td>
</tr>
<tr>
<td>长度</td>
<td>IPv4：32 位（4 字节），总数约 43 亿个，目前面临地址枯竭问题。<br>IPv6：128 位（16 字节），极大地扩展了地址空间，解决 IPv4 不足问题。</td>
<td>48 位（6 字节）</td>
</tr>
<tr>
<td>表示形式</td>
<td>IPv4 常见为 <strong>点分十进制</strong>（192.168.0.1）<br>IPv6 为冒号分隔的 16 进制（fe80:: 1）</td>
<td>冒号或连字符分隔的 16 进制（08:00:27:03:fb: 19）</td>
</tr>
<tr>
<td>谁分配的</td>
<td>网络管理员或 DHCP 服务器分配</td>
<td>硬件地址，生产网卡时由厂商烧录（全球唯一，虚拟机中的 mac 地址不是真实的 mac 地址，可能会冲突）</td>
</tr>
<tr>
<td>是否可变</td>
<td>可变（临时或永久）</td>
<td>大多数情况不变，但部分网卡可手动修改</td>
</tr>
<tr>
<td>作用</td>
<td>标识网络中的“位置”</td>
<td>标识物理设备的“身份”</td>
</tr>
<tr>
<td>类比</td>
<td>家庭地址（你在哪个城市哪条街）</td>
<td>身份证号（唯一标识这个人）</td>
</tr>
</tbody></table>
<blockquote>
<p>  <strong>关键</strong>：</p>
<ul>
<li><strong>MAC 地址</strong> 是物理设备唯一 ID，不随位置变化而变。</li>
<li><strong>IP 地址</strong> 是你在网络中的位置标识，可能会变（比如换网络、重启路由器）。</li>
<li>在通信中，IP 决定找谁，MAC 决定送给谁。</li>
</ul>
</blockquote>
<h3 id="2-ifconfig"><a href="#2-ifconfig" class="headerlink" title="2. ifconfig"></a>2. ifconfig</h3><p>Linux 下可以使用 ifconfig 命令用于查看、配置和管理网络接口（Windows 用 ipconfig），几个关键的含义如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250813132749254.png" alt="PixPin_2025-08-13_13-27-21"></p>
<blockquote>
<p>回环接口其实就是一张 <strong>虚拟的网卡</strong>，它只存在于操作系统内部，不连接任何物理网络设备。</p>
</blockquote>
<hr>
<h3 id="3-FTP-客户端与服务器之间的通信过程"><a href="#3-FTP-客户端与服务器之间的通信过程" class="headerlink" title="3. FTP 客户端与服务器之间的通信过程"></a>3. FTP 客户端与服务器之间的通信过程</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Linux/20250813134505911.png" alt="PixPin_2025-08-13_13-44-56"></p>
<p>当你从一台电脑（FTP 客户端）通过网络传文件到另一台电脑（FTP 服务器）时，数据要经过多个“层次”和不同类型的网络（比如以太网和令牌环网）。IP 协议就像“导航系统”，负责给数据包写上源地址和目标地址，决定它该往哪走；路由器就像是“交通警察”，根据 IP 地址把数据包从一个网络（比如以太网）转发到另一个网络（比如令牌环网）。而以太网驱动和令牌环驱动，就像是两种不同的“交通工具”——一个适用于以太网，一个适用于令牌环网，它们负责把 IP 数据包“打包”成对应网络能识别的格式。令牌环网直观上就像一群人围成一圈，只有拿到“令牌”（通行令牌）的人才能说话（发数据），避免大家同时说话造成混乱，保证了通信有序、不冲突。</p>
<blockquote>
<p>IP 协议就像全球通信的“通用语言”，它给每台主机一个逻辑地址（IP 地址），而路由器作为“翻译官”和“导航员”，工作在 IP 层，根据 IP 地址将数据包从一个网络（如以太网）转发到另一个网络（如令牌环网）。无论底层是哪种物理网络，数据在传输过程中都被封装成 IP 报文。这样，IP 协议屏蔽了以太网、令牌环网等底层技术的差异，构建了一个统一的、虚拟的全球网络层，实现了“一切皆是 IP 报文”的互联互通。</p>
</blockquote>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://github.com/huangcancan-xbc/Drawing-bed/blob/master/Blog/20250307201719879.png?raw=true" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://github.com/huangcancan-xbc/Drawing-bed/blob/master/Blog/20250307201719879.png?raw=true" title="头像" alt="头像"></a><div class="post-copyright__author_name">小米里的大麦</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://www.minbit.top/posts/47537.html">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://www.minbit.top/posts/47537.html')">045 网络基础</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212543768.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212543768.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212622868.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250403212622868.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://www.minbit.top/posts/47537.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=045 网络基础&amp;url=https://www.minbit.top/posts/47537.html&amp;pic=https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=95a3b92b-7619-0365-f5bc-3e1d0f94cfc8" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">MIT</a> 许可协议。转载请注明来自 <a href="https://www.minbit.top" target="_blank">小米里的大麦</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Linux/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Linux<span class="tagsPageCount">50</span></a><a class="post-meta__box__tags" href="/tags/%E7%BD%91%E7%BB%9C/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>网络<span class="tagsPageCount">6</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314125923408.png?_r_=589997d1-2591-0775-e5e3-4f301a7db57f" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/57900.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=3ea1c725-ece9-618d-c6e7-270124ac20b4" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">044 深入线程安全：单例、智能指针与同步原语</div></div></a></div><div class="next-post pull-right"><a href="/posts/40348.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314131841400.png?_r_=235af0ea-4273-916a-faeb-502ab2004876" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">046 网络编程套接字</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/posts/38905.html" title="047 网络传输基础：TCP 连接建立与数据序列化"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=6a0bf21f-d544-710a-2354-ef7b6e11acfb" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-22</div><div class="title">047 网络传输基础：TCP 连接建立与数据序列化</div></div></a></div><div><a href="/posts/40348.html" title="046 网络编程套接字"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314131841400.png?_r_=235af0ea-4273-916a-faeb-502ab2004876" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-15</div><div class="title">046 网络编程套接字</div></div></a></div><div><a href="/posts/63840.html" title="048 HTTP 协议"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=d7eeeb88-b375-c1d2-71d2-9fa4ce942e93" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-25</div><div class="title">048 HTTP 协议</div></div></a></div><div><a href="/posts/62772.html" title="050 传输层 —— UDP"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314125923408.png?_r_=589997d1-2591-0775-e5e3-4f301a7db57f" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-12</div><div class="title">050 传输层 —— UDP</div></div></a></div><div><a href="/posts/34998.html" title="049 HTTPS 协议原理"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314131841400.png?_r_=d20d13f8-c4a1-3018-7b57-dfc505aaf25a" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-28</div><div class="title">049 HTTPS 协议原理</div></div></a></div><div><a href="/posts/55415.html" title="002 创建普通账户（为朋友创建、删除账户）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=1afc30bf-9522-d21e-c511-fb0d5268d01d" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-17</div><div class="title">002 创建普通账户（为朋友创建、删除账户）</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://github.com/huangcancan-xbc/Drawing-bed/blob/master/Blog/20250307201719879.png?raw=true" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description">时间好像总会留下点什么,或许是一个人,或许是一个梦,或许……是一段有意义的经历~</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">小米里的大麦</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/huangcancan-xbc" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~<br>建议优先查看置顶的 <a href="https://www.minbit.top/posts/17934.html">网站说明</a> 哦~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">网络基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E6%99%AF"><span class="toc-number">1.1.</span> <span class="toc-text">1. 计算机网络背景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 网络发展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%B5%B7%E6%BA%90%EF%BC%9A%E5%86%9B%E4%BA%8B%E7%A7%91%E7%A0%94%E7%9A%84-%E2%80%9C%E6%8A%97%E6%AF%81%E9%80%9A%E4%BF%A1%E2%80%9D-%E9%9C%80%E6%B1%82%EF%BC%8820-%E4%B8%96%E7%BA%AA-60-%E5%B9%B4%E4%BB%A3%E6%9C%AB%EF%BC%89"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">1. 起源：军事科研的 “抗毁通信” 需求（20 世纪 60 年代末）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BA%92%E8%81%94%E5%9F%BA%E7%A1%80%EF%BC%9ATCP-IP-%E5%8D%8F%E8%AE%AE%E7%9A%84%E8%AF%9E%E7%94%9F%EF%BC%8820-%E4%B8%96%E7%BA%AA-70-%E5%B9%B4%E4%BB%A3%EF%BC%89"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">2. 互联基础：TCP&#x2F;IP 协议的诞生（20 世纪 70 年代）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%89%A9%E5%BC%A0%EF%BC%9A%E4%BB%8E%E5%86%9B%E4%BA%8B%E5%88%B0%E5%AD%A6%E6%9C%AF%E7%9A%84%E5%BC%80%E6%94%BE%EF%BC%8820-%E4%B8%96%E7%BA%AA-80-%E5%B9%B4%E4%BB%A3%EF%BC%89"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">3. 扩张：从军事到学术的开放（20 世纪 80 年代）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%99%AE%E5%8F%8A%EF%BC%9A%E4%B8%87%E7%BB%B4%E7%BD%91%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%A9%E4%BA%92%E8%81%94%E7%BD%91-%E2%80%9C%E8%A7%A6%E6%89%8B%E5%8F%AF%E5%8F%8A%E2%80%9D%EF%BC%8820-%E4%B8%96%E7%BA%AA-90-%E5%B9%B4%E4%BB%A3%EF%BC%89"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">4. 普及：万维网与浏览器让互联网 “触手可及”（20 世纪 90 年代）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%88%86%E5%8F%91%EF%BC%9A%E7%A7%BB%E5%8A%A8%E5%8C%96%E3%80%81%E6%99%BA%E8%83%BD%E5%8C%96%E4%B8%8E%E5%85%A8%E5%9C%BA%E6%99%AF%E6%B8%97%E9%80%8F%EF%BC%8821-%E4%B8%96%E7%BA%AA%E8%87%B3%E4%BB%8A%EF%BC%89"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">5. 爆发：移动化、智能化与全场景渗透（21 世纪至今）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%BD%A2%E6%80%81%E6%BC%94%E8%BF%9B"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 网络连接形态演进</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%8B%AC%E7%AB%8B%E6%A8%A1%E5%BC%8F-%E2%80%94%E2%80%94-%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B9%8B%E9%97%B4%E7%9B%B8%E4%BA%92%E7%8B%AC%E7%AB%8B%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%B0%81%E9%97%AD"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">1. 独立模式 —— 计算机之间相互独立，数据封闭</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94-%E2%80%94%E2%80%94-%E5%A4%9A%E5%8F%B0%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BF%9E%E6%8E%A5%E5%9C%A8%E4%B8%80%E8%B5%B7%EF%BC%8C%E5%AE%8C%E6%88%90%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">2. 网络互联 —— 多台计算机连接在一起，完成数据共享</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B1%80%E5%9F%9F%E7%BD%91%EF%BC%88LAN%EF%BC%89-%E2%80%94%E2%80%94-%E8%A7%84%E6%A8%A1%E6%89%A9%E5%A4%A7%EF%BC%8C%E8%AE%BE%E5%A4%87%E5%88%86%E5%B1%82%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">3. 局域网（LAN） —— 规模扩大，设备分层连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%B9%BF%E5%9F%9F%E7%BD%91%EF%BC%88WAN%EF%BC%89-%E2%80%94%E2%80%94-%E6%89%93%E7%A0%B4%E5%9C%B0%E5%9F%9F%EF%BC%8C%E5%85%A8%E5%B1%80%E4%BA%92%E8%81%94"><span class="toc-number">1.1.2.4.</span> <span class="toc-text">4. 广域网（WAN） —— 打破地域，全局互联</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%AE%A4%E8%AF%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.2.</span> <span class="toc-text">2. 认识协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 协议的本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 计算机中协议的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%A0%87%E5%87%86"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 网络协议的标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%86%E5%B1%82%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.</span> <span class="toc-text">3. 分层概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BD%AF%E4%BB%B6%E5%88%86%E5%B1%82%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 软件分层概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BD%AF%E4%BB%B6%E5%88%86%E5%B1%82%E7%9A%84%E5%8E%9F%E5%9B%A0-%E7%BB%B4%E6%8A%A4%E5%8E%9F%E5%88%99"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 软件分层的原因 &amp; 维护原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%88%86%E5%B1%82%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 网络协议分层的原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84%E7%9A%84%E7%B1%BB%E6%AF%94%EF%BC%88%E7%94%B5%E8%AF%9D%E9%80%9A%E4%BF%A1%EF%BC%89"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 分层结构的类比（电话通信）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-OSI-%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">4. OSI 七层模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-TCP-IP-%E4%BA%94%E5%B1%82%EF%BC%88%E6%88%96%E5%9B%9B%E5%B1%82%EF%BC%89%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.5.</span> <span class="toc-text">5. TCP&#x2F;IP 五层（或四层）模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93"><span class="toc-number">1.6.</span> <span class="toc-text">6. 网络传输</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%EF%BC%9A%E2%80%9C%E5%8A%A0%E5%A4%B4%E2%80%9D-%E4%BC%A0%E9%80%92%EF%BC%8C%E5%B1%82%E5%B1%82%E6%89%93%E5%8C%85"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 数据封装：“加头” 传递，层层打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%A7%A3%E5%8C%85%EF%BC%9A%E2%80%9C%E6%8B%86%E5%A4%B4%E2%80%9D-%E8%BF%98%E5%8E%9F%EF%BC%8C%E5%B1%82%E5%B1%82%E4%B8%8A%E4%BA%A4"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. 解包：“拆头” 还原，层层上交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%94%BE%E5%A4%A7%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B"><span class="toc-number">1.6.3.</span> <span class="toc-text">3. 放大网络传输过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1"><span class="toc-number">1.7.</span> <span class="toc-text">7. 以太网通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%91%BD%E5%90%8D%E7%9A%84%E7%94%B1%E6%9D%A5"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 以太网命名的由来</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B1%80%E5%9F%9F%E7%BD%91%EF%BC%88LAN%EF%BC%89%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 局域网（LAN）通信原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B0%8F%E7%BB%93"><span class="toc-number">1.7.3.</span> <span class="toc-text">3. 小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%95%B0%E6%8D%AE%E7%A2%B0%E6%92%9E%E9%97%AE%E9%A2%98%EF%BC%9A%E5%A4%9A%E8%AE%BE%E5%A4%87%E5%85%B1%E4%BA%AB%E4%BF%A1%E9%81%93%E7%9A%84-%E2%80%9C%E5%86%B2%E7%AA%81%E4%B8%8E%E5%8D%8F%E8%B0%83%E2%80%9D"><span class="toc-number">1.8.</span> <span class="toc-text">8. 数据碰撞问题：多设备共享信道的 “冲突与协调”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%A2%B0%E6%92%9E%E5%8E%9F%E5%9B%A0%E4%B8%8E%E8%A1%A8%E7%8E%B0"><span class="toc-number">1.8.1.</span> <span class="toc-text">1. 碰撞原因与表现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%A2%B0%E6%92%9E%E9%81%BF%E5%85%8D%E6%9C%BA%E5%88%B6"><span class="toc-number">1.8.2.</span> <span class="toc-text">2. 碰撞避免机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%A2%B0%E6%92%9E%E5%9F%9F%E5%88%92%E5%88%86%EF%BC%9A%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84-%E2%80%9C%E5%88%86%E5%8C%BA%E4%BC%98%E5%8C%96%E2%80%9D"><span class="toc-number">1.8.3.</span> <span class="toc-text">3. 碰撞域划分：交换机的 “分区优化”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9C%AC%E8%B4%A8%E6%80%BB%E7%BB%93%EF%BC%9A%E4%B8%B4%E7%95%8C%E8%B5%84%E6%BA%90%E7%9A%84-%E2%80%9C%E6%9C%89%E5%BA%8F%E8%AE%BF%E9%97%AE%E2%80%9D"><span class="toc-number">1.8.4.</span> <span class="toc-text">4. 本质总结：临界资源的 “有序访问”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E5%9C%B0%E5%9D%80%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">9. 网络中的地址管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-IP-%E4%B8%8E-MAC-%E7%9A%84%E5%85%B3%E7%B3%BB%E4%B8%8E%E5%8C%BA%E5%88%AB"><span class="toc-number">1.9.1.</span> <span class="toc-text">1. IP 与 MAC 的关系与区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ifconfig"><span class="toc-number">1.9.2.</span> <span class="toc-text">2. ifconfig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-FTP-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B"><span class="toc-number">1.9.3.</span> <span class="toc-text">3. FTP 客户端与服务器之间的通信过程</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/62772.html" title="050 传输层 —— UDP"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314125923408.png?_r_=589997d1-2591-0775-e5e3-4f301a7db57f" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="050 传输层 —— UDP"/></a><div class="content"><a class="title" href="/posts/62772.html" title="050 传输层 —— UDP">050 传输层 —— UDP</a><time datetime="2025-09-12T04:00:00.000Z" title="发表于 2025-09-12 12:00:00">2025-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/34998.html" title="049 HTTPS 协议原理"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314131841400.png?_r_=d20d13f8-c4a1-3018-7b57-dfc505aaf25a" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="049 HTTPS 协议原理"/></a><div class="content"><a class="title" href="/posts/34998.html" title="049 HTTPS 协议原理">049 HTTPS 协议原理</a><time datetime="2025-08-28T04:00:00.000Z" title="发表于 2025-08-28 12:00:00">2025-08-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/63840.html" title="048 HTTP 协议"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=d7eeeb88-b375-c1d2-71d2-9fa4ce942e93" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="048 HTTP 协议"/></a><div class="content"><a class="title" href="/posts/63840.html" title="048 HTTP 协议">048 HTTP 协议</a><time datetime="2025-08-25T04:00:00.000Z" title="发表于 2025-08-25 12:00:00">2025-08-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/38905.html" title="047 网络传输基础：TCP 连接建立与数据序列化"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250817000335747.png?_r_=6a0bf21f-d544-710a-2354-ef7b6e11acfb" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="047 网络传输基础：TCP 连接建立与数据序列化"/></a><div class="content"><a class="title" href="/posts/38905.html" title="047 网络传输基础：TCP 连接建立与数据序列化">047 网络传输基础：TCP 连接建立与数据序列化</a><time datetime="2025-08-22T04:00:00.000Z" title="发表于 2025-08-22 12:00:00">2025-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/40348.html" title="046 网络编程套接字"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/huangcancan-xbc/Drawing-bed@master/Blog/20250314131841400.png?_r_=235af0ea-4273-916a-faeb-502ab2004876" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="046 网络编程套接字"/></a><div class="content"><a class="title" href="/posts/40348.html" title="046 网络编程套接字">046 网络编程套接字</a><time datetime="2025-08-15T04:00:00.000Z" title="发表于 2025-08-15 12:00:00">2025-08-15</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:hc1960074081@qq.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com/u/7913790969" title="微博"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://github.com/huangcancan-xbc/Drawing-bed/blob/master/Blog/20250307201719879.png?raw=true" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/1918272544" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2025 By <a class="footer-bar-link" href="/" title="小米里的大麦" target="_blank">小米里的大麦</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = ["《左传》载曰：“太上有立德，其次有立功，其次有立言，虽久不废，此之谓不朽。”","纸上得来终觉浅，绝知此事要躬行！","你太专注于未来，却没有意识到，今天正是你多年前祈求的模样，因为你眺望远方视而不见。","梦想是不会发光的，发光的是追梦的你！"]
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#footer-type-tips', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('footer-type-tips').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="GitHub主页">GitHub主页</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">64</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">社交</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="GitHub"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="GitHub"/><span class="back-menu-item-text">GitHub</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://space.bilibili.com/1918272544" title="哔哩哔哩"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="哔哩哔哩"/><span class="back-menu-item-text">哔哩哔哩</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/huang-cancan-xbc" title="Gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="Gitee"/><span class="back-menu-item-text">Gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.csdn.net/Huangcancan666?type=blog" title="CSDN"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="CSDN"/><span class="back-menu-item-text">CSDN</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://juejin.cn/user/3230789931118109" title="稀土掘金"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="稀土掘金"/><span class="back-menu-item-text">稀土掘金</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 外链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/C/" style="font-size: 0.88rem;">C++<sup>8</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>3</sup></a><a href="/tags/IO/" style="font-size: 0.88rem;">IO<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>50</sup></a><a href="/tags/Obsidian/" style="font-size: 0.88rem;">Obsidian<sup>1</sup></a><a href="/tags/STL/" style="font-size: 0.88rem;">STL<sup>2</sup></a><a href="/tags/VS-Code/" style="font-size: 0.88rem;">VS Code<sup>1</sup></a><a href="/tags/%E4%BF%A1%E5%8F%B7/" style="font-size: 0.88rem;">信号<sup>3</sup></a><a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 0.88rem;">内存管理<sup>1</sup></a><a href="/tags/%E5%8E%86%E7%A8%8B/" style="font-size: 0.88rem;">历程<sup>1</sup></a><a href="/tags/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4/" style="font-size: 0.88rem;">地址空间<sup>6</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 0.88rem;">数学<sup>1</sup></a><a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size: 0.88rem;">模板<sup>1</sup></a><a href="/tags/%E7%AE%A1%E9%81%93/" style="font-size: 0.88rem;">管道<sup>2</sup></a><a href="/tags/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/" style="font-size: 0.88rem;">类与对象<sup>3</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 0.88rem;">线程<sup>4</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size: 0.88rem;">网站<sup>2</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 0.88rem;">网络<sup>6</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 0.88rem;">进程<sup>15</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("01/01/2025 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2025 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 小米里的大麦 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-olive-one.vercel.app/',
      // 自己额外添加的：
      path: location.pathname.replace(/index\.html$/, ''),
      
      region: 'ap-shanghai',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.44/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-olive-one.vercel.app/',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"><script async src="/js/anzhiyu/comment_barrage.js"></script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo-olive-one.vercel.app/',
        region: 'ap-shanghai',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.44/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "xiaomilidedamai@minbit.top";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.9.0-rc.1/echarts.min.js"></script><script src="/js/footer-animal.js" defer></script><script id="click-show-text" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="offer,暴富,健康,offer,喜乐,成功,offer,好运,自由,offer,坚持,上岸" data-fontsize="20px" data-random="true" async="async"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script><script>//- 留言板页面弹幕
window.addEventListener('load', () => {
  const getnaokuo_danmu = () => {
    if (!window.location.pathname.startsWith('/comments/')) return; //- 判断是否是留言板页面
    const naokuo_danmu = async () => {
      const Danmaku = new EasyDanmaku({
        page: '/comments/', //- 即留言板地址
        el: '#danmu-wrap', //- 弹幕挂载节点
        line: 5, //- 弹幕行数
        speed: 20, //- 弹幕播放速度
        hover: true, //- 鼠标hover时是否暂停播放弹幕
        loop: false, //- 开启循环播放
        colourful: true, //- 开启彩色弹幕
        coefficient: 1.38, //- 弹幕密度系数
        runtime: 10, //- 循环弹幕播放时长
      });
      try {
        let danmuStore = saveToLocal.get('twikoo-danmu');
        if (!danmuStore) {
          const options = {
            method: "POST",
            body: JSON.stringify({
              "event": "GET_RECENT_COMMENTS",
              "includeReply": false,
              "pageSize": 100
            }),
            headers: { 'Content-Type': 'application/json' }
          }
          danmuStore = [];
          const response = await fetch(`https://twikoo-olive-one.vercel.app/`, options);
          if (response.ok) {
            const { data } = await response.json();
            //- console.info(data);
            data.forEach(i => {
              if (i.avatar == undefined) i.avatar = 'https://cravatar.cn/avatar/d615d5793929e8c7d70eab5f00f7f5f1?d=mp'
              danmuStore.push({ avatar: i.avatar, content: i.nick + '：' + formatDanmaku(i.comment), url: i.url + '#' + i.id })
            });
            Danmaku.batchSend(danmuStore, true);
            saveToLocal.set('twikoo-danmu', danmuStore, 0.5)
          }
          //- 格式化评论
          function formatDanmaku(str) {
            str = str.replace(/<\/*br>|[\s\uFEFF\xA0]+/g, '');
            str = str.replace(/<img.*?>/g, '[图片]');
            str = str.replace(/<a.*?>.*?<\/a>/g, '[链接]');
            str = str.replace(/<pre.*?>.*?<\/pre>/g, '[代码块]');
            str = str.replace(/<.*?>/g, '');
            return str
          }
        } else {
          Danmaku.batchSend(danmuStore, true);
        }
      } catch (err) {
        console.error("Error fetching data:", err);
      }

      document.getElementById('danmu-Btn') && (document.getElementById('danmu-Btn').innerHTML = `<button class="hide-Btn" onclick="document.getElementById('danmu-wrap').classList.remove('hide-danmu')">显示弹幕</button> <button class="hide-Btn" onclick="document.getElementById('danmu-wrap').classList.add('hide-danmu')">隐藏弹幕</button>`)
    }
    (async () => {
      if (typeof EasyDanmaku === 'function') {
        await naokuo_danmu();
      } else {
        const easyDanmakuScript = await getScript('https://npm.onmicrosoft.cn/naokuo-blog@1.2.12/js/easy-Danmaku.js');
        if (typeof EasyDanmaku === 'function') {
          await naokuo_danmu();
        } else {
          console.error('EasyDanmaku function not found even after loading the script.');
        }
      }
    })();
  }
  getnaokuo_danmu()
  document.addEventListener('pjax:complete', getnaokuo_danmu)
})</script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>