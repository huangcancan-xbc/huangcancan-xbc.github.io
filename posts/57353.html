<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>05 数据类型 | 小米里的大麦</title><meta name="keywords" content="MySQL"><meta name="author" content="小米里的大麦"><meta name="copyright" content="小米里的大麦"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="05 数据类型"><meta name="application-name" content="05 数据类型"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="05 数据类型"><meta property="og:url" content="https://www.minbit.top/posts/57353.html"><meta property="og:site_name" content="小米里的大麦"><meta property="og:description" content="数据类型1. 常用数据类型一览   分类 数据类型 说明    数值类型 BIT(M) 位类型。M 指定位数，默认值 1，范围 1–64。    TINYINT [UNSIGNED] 很小的整数。带符号范围：-128 ~ 127；无符号范围：0 ~ 255。默认为有符号。    BOOL &amp;amp;#x2F"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://image-kcm.pages.dev/v2/12THR4h.png?_r_=16db0a8f-806b-29ad-d6cb-e82b0977b958"><meta property="article:author" content="小米里的大麦"><meta property="article:tag" content="技术博客,Linux,C++,后端开发,编程学习,个人博客,技术分享"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://image-kcm.pages.dev/v2/12THR4h.png?_r_=16db0a8f-806b-29ad-d6cb-e82b0977b958"><meta name="description" content="数据类型1. 常用数据类型一览   分类 数据类型 说明    数值类型 BIT(M) 位类型。M 指定位数，默认值 1，范围 1–64。    TINYINT [UNSIGNED] 很小的整数。带符号范围：-128 ~ 127；无符号范围：0 ~ 255。默认为有符号。    BOOL &amp;amp;#x2F"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "05 数据类型",
  "description": "数据类型1. 常用数据类型一览   分类 数据类型 说明    数值类型 BIT(M) 位类型。M 指定位数，默认值 1，范围 1–64。    TINYINT [UNSIGNED] 很小的整数。带符号范围：-128 ~ 127；无符号范围：0 ~ 255。默认为有符号。    BOOL &amp;#x2F",
  "image": "https://image-kcm.pages.dev/v2/12THR4h.png?_r_=16db0a8f-806b-29ad-d6cb-e82b0977b958",
  "datePublished": "2025-10-18T16:00:00.000Z",
  "dateModified": "2025-11-02T02:10:00.000Z",
  "author": {
    "@type": "Person",
    "name": "小米里的大麦",
    "url": "https://www.minbit.top"
  },
  "publisher": {
    "@type": "Organization",
    "name": "小米里的大麦",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.minbit.top/img/Profile%20picture.png"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.minbit.top/posts/57353.html"
  },
  "keywords": "MySQL"
}</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "首页",
      "item": "https://www.minbit.top"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "05 数据类型",
      "item": "https://www.minbit.top/posts/57353.html"
    }
  ]
}</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "小米里的大麦",
  "url": "https://www.minbit.top",
  "image": "https://www.minbit.top/img/Profile%20picture.png",
  "description": "时间好像总会留下点什么，或许是一个人，或许是一个梦，或许……是一段有意义的经历~"
}</script><link rel="shortcut icon" href="/img/icons/funny.svg"><link rel="canonical" href="https://www.minbit.top/posts/57353.html"><link rel="preconnect" href="//cdn.cbd.int"><link rel="preconnect" href="//bsz.dusays.com:9001"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="code-xxx"><meta name="msvalidate.01" content="xxx"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"><link rel="mask-icon" href="/img/siteicon/apple-icon-180.png" color="#5bbad5"><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-icon-180.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-icon-180.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"><link rel="bookmark" href="/img/siteicon/apple-icon-180.png"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@6.1.6/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={linkPageTop:{enable:!0,title:"友链 + 外链 + 无限进步！欢迎欣赏和贡献！",addFriendPlaceholder:"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},peoplecanvas:void 0,postHeadAiDescription:{enable:!0,gptName:"小米里的大麦",mode:"local",switchBtn:!1,btnLink:"https://afdian.net/item/886a79d4db6711eda42a52540025c377",randomNum:4,basicWordCount:1999,key:"93d1622eadde491eb0594b68ade51723.kaEiDD6A3KPzb7xv",Referer:"https://www.minbit.top/"},diytitle:{enable:!0,leaveTitle:"w(ﾟДﾟ)w 不要走！再看看嘛！",backTitle:"♪(^∇^*)欢迎肥来！"},LA51:{enable:!0,ck:"Jp8wwGQpp21utaFQ",LingQueMonitorID:"Jp8ztDRrxmTf7LDj"},greetingBox:{enable:!0,default:"晚上好👋",list:[{greeting:"晚安😴",startTime:0,endTime:5},{greeting:"早上好鸭👋, 祝你一天好心情！",startTime:6,endTime:9},{greeting:"上午好👋, 状态很好，鼓励一下～",startTime:10,endTime:10},{greeting:"11点多啦, 在坚持一下就吃饭啦～",startTime:11,endTime:11},{greeting:"午安👋, 宝贝",startTime:12,endTime:14},{greeting:"🌈充实的一天辛苦啦！",startTime:14,endTime:18},{greeting:"19点喽, 奖励一顿丰盛的大餐吧🍔。",startTime:19,endTime:19},{greeting:"晚上好👋, 在属于自己的时间好好放松😌~",startTime:20,endTime:24}]},twikooEnvId:"https://twikoo.minbit.top/",commentBarrageConfig:{enable:!0,maxBarrage:10,barrageTime:5e3,accessToken:"25c96851dd8a790c4819ad4bfbaf153c",mailMd5:"7b12ebc2be80f9159099f6ab0e16573c"},music_page_default:"nav_music",root:"/",preloader:{source:3},friends_vue_info:void 0,navMusic:!0,mainTone:{mode:"both",api:"https://img2color-go.vercel.app/api?img=",cover_change:!0},authorStatus:{skills:["🧐 准备中，就快好了，真的！😭","📚 正在学习中，加油！","🎵 喜欢听音乐，喜欢看动漫"]},algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简",rightMenuMsgToTraditionalChinese:"转为繁体",rightMenuMsgToSimplifiedChinese:"转为简体"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"距上次更新已过去",messageNext:"天了，这篇文章的内容可能已经过时了。"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:330},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,simplehomepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{copy:!0,copyrightEbable:!0,limitCount:150,languages:{author:"作者: 小米里的大麦",link:"链接: ",source:"来源: 小米里的大麦",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。",copySuccess:"复制成功，复制和转载请标注本文地址"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#425AEF",bgDark:"#1f1f1f",position:"top-right"},source:{justifiedGallery:{js:"https://cdn.cbd.int/flickr-justified-gallery@2.2.0/dist/fjGallery.min.js",css:"https://cdn.cbd.int/flickr-justified-gallery@2.2.0/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,shortcutKey:void 0,autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={configTitle:"小米里的大麦",title:"05 数据类型",postAI:"这篇文章讲述了MySQL中常用数据类型及其应用，重点介绍了数值类型和字符串类型。数值类型包括tinyint、bit、float和decimal，其中tinyint是最小的整数类型，占用1字节，常用于存储状态标识、布尔值、小范围状态码等，无符号tinyint取值范围0~255；bit类型用于存储二进制位数据，适合表示标志位、开关状态等，一个bit(8)可存储8个二进制标志；float类型用于存储单精度浮点数，占用4字节，精度有限，适合对精度要求不高的场景，如float(5,2)表示总位数5位，小数部分2位；decimal类型精度比float高，适合存储精确数值，如decimal(10,8)表示总位数10位，小数部分8位。字符串类型包括char和varchar，char是固定长度字符串，占用预设的固定字节数，如char(6)无论实际存储多少字符都占用6个字符的存储空间；varchar是可变长度字符串，占用实际存储的字符数加额外字节，适合存储长度不定的字符串。文章还通过具体示例展示了如何使用这些数据类型，并强调了在定义字段时需注意数据范围和精度要求，以避免插入数据时报错。",pageFillDescription:"数据类型, 1. 常用数据类型一览, 1. 补充说明, 2. 实际开发常用推荐表, 2. 数值类型, 1. tinyint 类型, 1. 作用, 2. 数据范围, 3. 基本使用, 4. 表示布尔值（最常见）, 5. 表示小范围状态码, 6. 作为计数或等级字段, 7. 注意事项, 8. 详细示例, 2. bit 类型, 1. 作用, 2. 数据范围, 3. 基本使用, 4. 存储布尔值或开关状态（节省空间）, 3. 小数类型, 1. float 类型, 1. 作用, 2. 数据范围, 3. 基本使用, 2. decimal 类型, 3. 字符串类型, 1. char 类型, 1. 作用, 2. 数据范围, 3. 基本使用, 2. varchar 类型, 1. 作用, 2. 数据范围, 3. 基本使用, 3. char VS varchar, 1. 功能与定义差异, 2. 性能与效率差异, 4. 日期和时间类型, 1. 常用的三种时间日期类型, 2. 基本使用, 5. enum 和 set, 1. enum 类型（枚举）, 1. 数据范围, 2. 基本使用, 2. set 类型（集合）, 1. 数据范围, 2. 基本使用数据类型常用数据类型一览分类数据类型说明数值类型位类型指定位数默认值范围很小的整数带符号范围无符号范围默认为有符号布尔类型是的同义词表示非表示小整数带符号范围无符号范围最常用的整数类型带符号范围无符号范围大整数带符号范围无符号范围单精度浮点数为总位数为小数位数占用字节存在精度误差双精度浮点数比精度更高占用字节定点数高精度为总位数为小数位数用于货币金额计算不会产生精度误差字符串与二进制类型定长字符串最大长度字符不足部分用空格填充性能稳定但浪费空间最常用字符串类型可变长度字符串最大字符节省空间性能较好长文本对象最大字符不支持默认值不同大小的文本类型最大长度分别为二进制大对象用于存储图片文件音频等不同大小的二进制对象类型时间日期类型日期类型格式范围最常用时间类型格式范围不受时区影响时间戳类型格式范围受时区影响插入更新自动设置当前时间时间类型格式或可表示超过小时的时间年份类型可为位或位数字格式推荐位字符串枚举类型枚举类型列值必须是预定义列表中的一个值内部按数字存储节省空间但灵活性差集合类型可同时存储多个预定义值以逗号分隔每个成员值本身不能含逗号补充说明项说明表示无符号数只能存储正数和零参数在中为显示宽度为小数位数在中为总位数为小数位数参数对于表示字符数而非字节数编码下一个字符占字节下占字节特性默认在插入或更新时自动设为当前时间受服务器时区影响内部存储虽然是字符串类型但内部以整数映射存储在性能上优于但修改枚举值需要重建表实际开发常用推荐表场景推荐数据类型理由主键自增足够大可自增不会溢出数量状态码占用少查询快金额精确计算高精度避免浮点误差姓名标题适合变长字符串内容备注存放长文本日期时间直观不受时区影响更新时间自动更新特性方便日志记录性别状态类型固定选项值节省空间数值类型类型作用是中最小的整数类型常用于存储范围较小的整数值例如状态标识布尔值性别等级标志位等它只占用个字节位存储空间因此在性能和空间利用上非常高效数据范围类型取值范围有符号无符号关键字用于声明无符号整数即不存储负数范围翻倍基本使用类型占用字节有符号的取值范围为插入该范围内的数据时都能成功插入如果插入的数据不在范围内那么插入数据时就会产生报错创建表字段类型为默认有符号插入范围内的数据在之间成功插入有符号的最小值成功插入超出范围的数据小于最小值报错查询表中的数据验证插入结果由于类型占用字节因此无符号的取值范围为插入该范围的数据时都能成功插入如果插入的数据不在范围内那么插入数据时就会产生报错创建表字段类型为无符号范围插入范围内的数据在之间成功插入负数小于无符号不允许负数报错插入超出最大值的数据大于报错插入无符号的最大值成功查询表中的数据验证插入结果表示布尔值最常见的常见用途表示布尔值代表代表例如创建一个表示是否启用的字段用存储更节省空间禁用启用是否启用禁用启用说明一下本身是不支持类型的当把一个数据设置成类型时数据库会自动将其转换成的数据类型其实这个就是变相的类型因为只有和两种取值可以分别对应类型的和实际上与等价存储时底层仍是整数表示非表示建议在逻辑字段中统一约定否是表示小范围状态码适用于枚举值较少的场景如状态类型标志取值有限时优先用而不是节省空间状态未开始进行中已完成作为计数或等级字段等级适合范围小的整数类型如用户级别权限等级重试次数等注意事项项目说明中的数字不是长度限制而是显示宽度几乎无效从起被完全废弃若定义为再插入负数会报错或被截断为与只是语法同义词底层存储一样若需要表示超过的范围建议改用或对布尔字段建立索引意义不大因为区分度太低详细示例用户是否启用否是状态未激活已激活冻结等级用户状态信息表执行输出示例类型一个存一个状态而一个可以在一个字节中同时存个二进制标志作用类型用于存储二进制位数据常用于表示标志位状态开关权限标识布尔组合等场景它能更高效地存储多个开关量相当于一组二进制位标志位数组数据范围项目说明表示位数取值范围为如果省略默认为存储空间每位占用字节向上取整值范围可存储从到的整数值类型位数存储空间语言类比取值范围有符号位约位实际存储会按字节对齐通常占字节低位位约位实际存储占字节低位位字节位字节位字节位字节基本使用定义为位的类型插入十进制自动转为位二进制也可以用二进制格式插入等价数据二进制等价于十进制前缀也表示二进制直接查询类型字段时会默认以十六进制字符串显示如果想查看十进制或二进制值需用函数转换示例查询结果默认十六进制是十六进制对应二进制用函数显式查看十六进制和默认一致语法表名结果用函数查看二进制补全位数语法表名结果注意会省略前导实际存储是位用转换为十进制整数查看语法表名结果转回十进制存储布尔值或开关状态节省空间可存储位二进制或适合表示布尔值如是否有效开关状态等比更节省空间位字节比如表示男表示女插入性别为男用表示的记录插入性别为女用表示的记录若插入非的值如会报错只能存位二进制范围用转为十进制再给列起别名如结果更易理解转十进制后显示性别编码用语句将转为具体文字可选更友好男女男女小数类型类型作用是用于存储单精度浮点数的数值类型主要用于表示带小数部分的数值如身高体重温度等其核心特点是占用空间小计算效率高但精度有限适用于对精度要求不高的场景数据范围存储空间字节位取值范围绝对值最大能达到接近数量级精度限制约位有效数字超过后可能产生精度丢失这是浮点数的固有特性总位数整数部分小数部分的总长度范围小数位数小数点后的位数范围且必须小于例如表示总长度位其中小数部分占位整数部分最多位可存储范围如果省略和直接写会根据插入的数据自动分配存储空间默认单精度占用字节基本使用以为例中表示总位数整数小数共位表示小数部分占位因此整数部分最多位取值范围为插入整数部分位小数位总位未超过位符合范围成功插入负数同样遵循范围约束在之间成功插入整数部分位小数位总位数超过位超出范围报错插入整数部分位小数位总位刚好达到上限成功插入小数部分实际位定义为位四舍五入后为未超上限成功插入四舍五入后为整数部分变为位总位数超过位超出范围报错需四舍五入到位小数小数点后第位是向前进结果为超过位限制报错四舍五入到位小数小数点后第位是舍去结果为符合约束成功创建表定义为进行演示表示总位数小数部分固定位整数部分最多位表示无符号只能存储非负数插入负数违反无符号约束只能存的值报错插入是非负数且总位数整数位小数位符合成功插入负数违反约束报错插入整数部分位小数位总位数且非负数符合约束成功插入整数部分位小数位总位数非负数成功插入整数部分位小数位总位数非负数成功达到理论最大值插入需四舍五入到位小数整数位小数位总位成功插入四舍五入到位小数整数部分变为位总位数超出范围报错类型和类型的使用方式一模一样但的精度比更高这里就不详细讲解类比使用创建表定义两个字段为单精度浮点数总位数位小数部分位整数部分最多位为高精度小数定点数总位数位小数部分位整数部分最多位对比两者在存储精度上的差异插入相同的数值小数部分位到两个字段查询结果观察精度差异类型存储结果为与原始值有细微偏差精度丢失原因是浮点数用二进制近似存储无法精确表示某些十进制小数超过位有效数字后会失真类型存储结果为完全精确补全位小数为原因是定点数按十进制存储能精确表示小数适合对精度要求高的场景如金额字符串类型类型作用是一种固定长度的字符串类型适用于存储长度固定或变化很小的字符串如手机号身份证号性别标识等其核心特点是存储空间固定无论实际存储的字符串长度如何都会占用预设的固定字节数数据范围表示字符串的长度即最多能存储的字符数范围是单位字符不是字节例如表示该字段最多存储个字符无论实际插入的字符串是个还是个字符都会占用个字符对应的存储空间具体字节数取决于字符集如中一个字符可能占字节基本使用创建表定义字段为固定存储个字符插入值时未用引号包裹会误认为是列名导致未知列错误注意字符串值必须用单引号或双引号包裹用单引号包裹字符串长度个字符刚好符合的长度插入成功用双引号包裹字符串效果同单引号支持单双引号表示字符串插入成功插入字符串长度个字符超过定义的最大长度超长报错插入中文字符串小米里的大麦长度个汉字每个汉字按个字符计数符合成功说明中的是字符数不是字节数中文也按个字符算具体字节数取决于字符集小米里的大麦插入小米里的大麦个汉字个字母共个字符超过超长报错小米里的大麦插入字符串长度个字符短于成功会自动补个空格至个字符长度插入空字符串长度符合允许的范围成功存储个空格查询表中数据注意短于个字符的字符串如查询时自动去除末尾填充的空格显示原始长度空字符串显示为空白实际存储个空格查询时去除后为空刚好个字符的字符串如小米里的大麦原样显示小米里的大麦类型作用是一种可变长度的字符串类型适用于存储长度不固定或变化较大的字符串如用户名地址备注等其核心特点是存储空间随实际字符串长度变化避免了固定长度类型如的空间浪费数据范围表示字符串的最大长度最多能存储的字符数范围根据版本和存储引擎有所不同通常为实际受表中其他字段总长度限制注意其中有字节用来表示实际数据长度还有字节来存储其他控制信息因此类型的有效字节数最多是字节例如表示该字段最多存储个字符实际存储时会根据插入的字符串长度动态分配空间不会像那样固定占用个字符的空间注意在中类型的最大长度不是以字符数为上限而是受存储字节数限制理论上单行数据总字节上限为字节含记录开销因此的最大值要根据字符集计算例如在编码下一个字符最多占字节理论上而在编码下为但在实际中存储引擎尤其是默认或行格式会对单个字段额外限制其最大存储字节数为字节超出即报错比如下面是我的配置查看指定表如的状态信息表示按行垂直显示结果更易读表名存储引擎为默认的事务型引擎表结构版本行格式为动态行格式支持变长字段高效存储估算的行数非精确值通过统计信息计算平均每行占用的字节数总数据长度行数表数据占用的字节数字节最小分配单位表可存储的最大数据量不限制故为索引占用的字节数该表无索引故为已分配但未使用的空间该表数据紧凑故为自增字段的下一个值该表无自增字段故为表的创建时间表数据最后更新时间最后一次检查表的时间未检查过故为表的默认字符集排序规则编码对应的通用排序表的校验和未启用故为创建表时的额外选项无特殊选项故为空表的注释无注释故为空查看数据库默认字符集当前为支持和所有字符查看数据库默认排序规则为的通用不区分大小写排序查看文件格式已移除该参数默认使用格式故为空查看默认行格式为动态行格式适合存储变长字段节省空间查看是否启用独立表空间表示每张表单独存储为文件便于管理查看服务器版本当前为基于系统查看服务器默认字符集与数据库一致均为查看服务器默认排序规则与数据库一致确保字符处理规则统一配置一览当前配置说明版本新版默认行格式已为存储引擎支持大字段分离存储行格式允许单行超出字段可溢出页外存储字符集每字符最多字节校验规则默认排序规则每表独立文件每张表独立存储支持更大数据量我的配置只能配置基本使用创建表定义字段为可变长度字符串最大个字符插入数值未加引号会自动转为字符串长度成功说明是字符串类型插入数值时会隐式转换为字符串存储插入单引号包裹的字符串长度个字符刚好达到的最大限制成功插入双引号包裹的中文字符串小米里的大麦长度个汉字每个汉字按个字符计数符合最大长度成功注意中的是字符数中文字母数字均按个字符计算小米里的大麦插入小米里的大麦个汉字个数字共个字符超过的最大长度超长报错小米里的大麦插入空值未指定具体值等价于插入或空字符串符合长度要求成功允许存储空值此时不占用额外空间仅存储长度标识查询表中的所有数据观察字段的存储结果对应插入的数值自动转为字符串长度按实际长度存储插入的字符字符串刚好达到的最大长度完整存储小米里的大麦插入的个汉字字符符合长度限制完整存储对中文按字符计数对应插入的空值允许存储显示为区别于空字符串功能与定义差异特性存储方式定长固定长度变长按实际长度存储最大存储上限个字符与字符集和表结构相关下约字符空间分配无论实际存储多少字符都占个字符空间仅占实际字符所需空间字节长度信息超出定义长度报错报错是否需要额外字节否是字节记录长度性能与效率差异对比项空间利用率较低浪费空间较高按需分配访问效率高定长数据定位快稍低需先解析长度字节更新效率高不易产生碎片低长度变化可能导致页分裂适用场景数据长度固定数据长度不固定日期和时间类型常用的三种时间日期类型类型格式占用空间说明字节只保存日期不含时间适合存储生日入职日期等字节保存完整的日期与时间与时区无关适合通用业务时间记录字节自动记录插入或更新时间会受时区影响常用于创建时间修改时间等字段基本使用创建表包含三种日期时间类型仅存储日期格式存储日期时间格式存储日期时间受时区影响默认可自动更新查看表结构字段类型为但列无特殊标识默认不自动更新需显式配置无故不自动更新插入时未用引号包裹日期时间值会解析为表达式被当作数学计算导致语法错误插入数据时为赋值未指定默认为日期时间字符串需用单引号包裹格式符合要求或完整语句补全后用双引号包裹日期时间字符串效果同单引号符合语法规则插入成功查询结果均为因插入时未赋值且未配置自动更新未赋值保持未赋值保持注意这类规则只能在创建表时定义字段或修改表结构时配置不能在语句中直接使用必须在或时声明属于表结构的一部分创建表时配置规则推荐定义时配置规则使用字段定义的默认值当前时间对于已存在的表用补充规则和类型枚举用于存储多选一的值即字段值只能是预定义选项中的一个数据范围值值值选项列表最多支持个值实际使用中通常远少于此选项区分大小写取决于表的字符集排序规则如不区分大小写区分基本使用创建表定义为类型枚举只能从预定义选项中选一个男女未知表示可选值为男女未知单双引号均可男女未知插入符合选项的值单双引号包裹均可均成功男选男女选女双引号未知选未知插入未在选项中的值保密不符合预定义范围报错错误提示字段值被截断实际因值不在选项中无法存储保密插入数字支持用数字索引从开始表示选项对应第一个选项男成功插入数字对应第三个选项未知成功插入数字选项只有个索引超出范围报错查询结果数字索引会自动转换为对应的选项值男未知男直接插入男女直接插入女未知直接插入未知男插入对应男未知插入对应未知类型集合用于存储多选多的值即字段值可以是预定义选项中的多个个或多个值之间用逗号分隔数据范围值值值选项列表最多支持个值因存储方式限制选项同样区分大小写规则同基本使用创建表定义为类型集合可从预定义选项中选多个值吃饭睡觉打豆豆编码表示可选值为这个支持多选用逗号分隔吃饭睡觉打豆豆编码插入符合规则的值单双引号均可选个值空值选个选多个值用逗号分隔选个值吃饭空字符串表示不选任何值吃饭睡觉编码多选值用逗号分隔编码插入重复值吃饭吃饭会自动去重存储为吃饭成功吃饭吃饭插入未在选项中的打游戏不在预定义范围报错打游戏插入数字支持用二进制位对应的数字表示选项每个选项对应一个位从左到右为选项对应关系吃饭睡觉打豆豆编码对应吃饭睡觉编码成功插入数字对应睡觉编码成功插入数字即表示不选任何值等价于空字符串成功插入数字即对应吃饭成功插入数字该只有个选项最大对应数字超出范围是十进制报错查询结果吃饭吃饭睡觉编码编码吃饭吃饭睡觉编码睡觉编码吃饭",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-11-02 10:10:00",postMainColor:""}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:(e,t,a)=>{if(0===a)return;const o={value:t,expiry:Date.now()+864e5*a};localStorage.setItem(e,JSON.stringify(o))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const a=JSON.parse(t);if(!(Date.now()>a.expiry))return a.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((a,o)=>{const c=document.createElement("script");c.src=e,c.async=!0,c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},Object.keys(t).forEach(e=>{c.setAttribute(e,t[e])}),document.head.appendChild(c)}),e.getCSS=(e,t=!1)=>new Promise((a,o)=>{const c=document.createElement("link");c.rel="stylesheet",c.href=e,t&&(c.id=t),c.onerror=o,c.onload=c.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(c.onload=c.onreadystatechange=null,a())},document.head.appendChild(c)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#18171d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#f7f9fe")};const t=saveToLocal.get("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,c=window.matchMedia("(prefers-color-scheme: no-preference)").matches,n=!a&&!o&&!c;if(void 0===t){if(o)activateLightMode();else if(a)activateDarkMode();else if(c||n){const e=(new Date).getHours();e<=10||e>=20?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>{void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())})}else"light"===t?activateLightMode():activateDarkMode();const d=saveToLocal.get("aside-status");void 0!==d&&("hide"===d?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/custom/css/font.css"><link rel="stylesheet" href="/custom/css/bilibili.css"><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="小米里的大麦" type="application/atom+xml">
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/Profile%20picture.png"><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()}),setTimeout((function(){preloader.endLoading()}),1e4),document.addEventListener("pjax:send",()=>{preloader.initLoading()}),document.addEventListener("pjax:complete",()=>{preloader.endLoading()})</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"><script async src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">社交</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="GitHub"><img class="back-menu-item-icon" src="/img/icons/lollipop.svg" alt="GitHub"><span class="back-menu-item-text">GitHub</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://space.bilibili.com/1918272544" title="哔哩哔哩"><img class="back-menu-item-icon" src="/img/icons/wink.svg" alt="哔哩哔哩"><span class="back-menu-item-text">哔哩哔哩</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/huang-cancan-xbc" title="Gitee"><img class="back-menu-item-icon" src="/img/icons/laugh.svg" alt="Gitee"><span class="back-menu-item-text">Gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.csdn.net/Huangcancan666?type=blog" title="CSDN"><img class="back-menu-item-icon" src="/img/icons/celebrate.svg" alt="CSDN"><span class="back-menu-item-text">CSDN</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://juejin.cn/user/3230789931118109" title="稀土掘金"><img class="back-menu-item-icon" src="/img/icons/kiss.svg" alt="稀土掘金"><span class="back-menu-item-text">稀土掘金</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">算法</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://leetcode.cn/u/nifty-faradayzqn" title="力扣"><img class="back-menu-item-icon" src="/img/icons/thinking-glass.svg" alt="力扣"><span class="back-menu-item-text">力扣</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/profile/517073385" title="牛客"><img class="back-menu-item-icon" src="/img/icons/think.svg" alt="牛客"><span class="back-menu-item-text">牛客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://www.luogu.com.cn/user/1367427" title="洛谷"><img class="back-menu-item-icon" src="/img/icons/funny.svg" alt="洛谷"><span class="back-menu-item-text">洛谷</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">小米里的大麦</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> 统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> 外链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size:.9em"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> 关于本人</span></a></li></ul></div></div></div><div id="nav-right"><div id="nav-naoDark"><div class="container"><div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div></div></div><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole()"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/wechatANDalipay.webp" target="_blank"><img class="post-qr-code-img" alt="微信/支付宝" src="/img/wechatANDalipay.webp"></a><div class="post-qr-code-desc">微信/支付宝</div></li><li class="reward-item"><a href="/img/PayPal.webp" target="_blank"><img class="post-qr-code-img" alt="PayPal" src="/img/PayPal.webp"></a><div class="post-qr-code-desc">PayPal</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title">最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size:1.05rem">AI<sup>2</sup></a><a href="/tags/C/" style="font-size:1.05rem">C++<sup>11</sup></a><a href="/tags/Git/" style="font-size:1.05rem">Git<sup>3</sup></a><a href="/tags/IO/" style="font-size:1.05rem">IO<sup>5</sup></a><a href="/tags/Linux/" style="font-size:1.05rem">Linux<sup>59</sup></a><a href="/tags/MySQL/" style="font-size:1.05rem">MySQL<sup>9</sup></a><a href="/tags/Redis/" style="font-size:1.05rem">Redis<sup>2</sup></a><a href="/tags/STL/" style="font-size:1.05rem">STL<sup>2</sup></a><a href="/tags/VS-Code/" style="font-size:1.05rem">VS Code<sup>1</sup></a><a href="/tags/%E4%BF%A1%E5%8F%B7/" style="font-size:1.05rem">信号<sup>3</sup></a><a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size:1.05rem">内存管理<sup>1</sup></a><a href="/tags/%E5%8E%86%E7%A8%8B/" style="font-size:1.05rem">历程<sup>2</sup></a><a href="/tags/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4/" style="font-size:1.05rem">地址空间<sup>6</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size:1.05rem">工具<sup>4</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size:1.05rem">数学<sup>1</sup></a><a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size:1.05rem">模板<sup>1</sup></a><a href="/tags/%E7%81%B5%E5%85%89%E8%8D%9F%E8%90%83/" style="font-size:1.05rem">灵光荟萃<sup>3</sup></a><a href="/tags/%E7%AE%A1%E9%81%93/" style="font-size:1.05rem">管道<sup>2</sup></a><a href="/tags/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/" style="font-size:1.05rem">类与对象<sup>3</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size:1.05rem">线程<sup>5</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size:1.05rem">网站<sup>3</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size:1.05rem">网络<sup>11</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size:1.05rem">进程<sup>15</sup></a></div></div><hr></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多"> <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2026/01/"><span class="card-archive-list-date">一月 2026</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">十月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">15</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">9</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/MySQL/" itemprop="url">MySQL</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/MySQL/" tabindex="-1" itemprop="url"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>MySQL</span></a></span></div></div><h1 class="post-title" itemprop="name headline">05 数据类型</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-10-18T16:00:00.000Z" title="发表于 2025-10-19 00:00:00">2025-10-19</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-11-02T02:10:00.000Z" title="更新于 2025-11-02 10:10:00">2025-11-02</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">8.8k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>34分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" data-flag-title="05 数据类型"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator"> </span><span class="post-meta-position" title="作者IP属地为西安"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>西安</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://image-kcm.pages.dev/v2/12THR4h.png?_r_=16db0a8f-806b-29ad-d6cb-e82b0977b958"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div class="post-ai-description"><div class="ai-title"><i class="anzhiyufont anzhiyu-icon-bilibili"></i><div class="ai-title-text">AI-摘要</div><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i><i class="anzhiyufont anzhiyu-icon-circle-dot" title="朗读摘要"></i><div id="ai-tag">小米里的大麦 GPT</div></div><div class="ai-explanation">AI初始化中...</div><div class="ai-btn-box"><div class="ai-btn-item">介绍自己 🙈</div><div class="ai-btn-item">生成本文简介 👋</div><div class="ai-btn-item">推荐相关文章 📖</div><div class="ai-btn-item">前往主页 🏠</div><div class="ai-btn-item" id="go-tianli-blog">前往爱发电购买</div></div><script data-pjax src="/js/anzhiyu/ai_abstract.js"></script></div><article class="post-content" id="article-container" itemscope itemtype="https://www.minbit.top/posts/57353.html"><header><a class="post-meta-categories" href="/categories/MySQL/" itemprop="url">MySQL</a><a href="/tags/MySQL/" tabindex="-1" itemprop="url">MySQL</a><h1 id="CrawlerTitle" itemprop="name headline">05 数据类型</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">小米里的大麦</span><time itemprop="dateCreated datePublished" datetime="2025-10-18T16:00:00.000Z" title="发表于 2025-10-19 00:00:00">2025-10-19</time><time itemprop="dateCreated datePublished" datetime="2025-11-02T02:10:00.000Z" title="更新于 2025-11-02 10:10:00">2025-11-02</time></header><h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="1-常用数据类型一览"><a href="#1-常用数据类型一览" class="headerlink" title="1. 常用数据类型一览"></a>1. 常用数据类型一览</h2><table><thead><tr><th><strong>分类</strong></th><th><strong>数据类型</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td><strong>数值类型</strong></td><td><span style="color:red"><strong>BIT(M)</strong></span></td><td>位类型。M 指定位数，默认值 1，范围 1–64。</td></tr><tr><td></td><td><span style="color:red"><strong>TINYINT [UNSIGNED]</strong></span></td><td>很小的整数。带符号范围：-128 ~ 127；无符号范围：0 ~ 255。默认为有符号。</td></tr><tr><td></td><td><strong>BOOL &#x2F; BOOLEAN</strong></td><td>布尔类型，是 <code>TINYINT(1)</code> 的同义词，<code>0</code> 表示 <code>FALSE</code>，非 <code>0</code> 表示 <code>TRUE</code>。</td></tr><tr><td></td><td><strong>SMALLINT [UNSIGNED]</strong></td><td>小整数。带符号范围：-32,768 ~ 32,767；无符号范围：0 ~ 65,535。</td></tr><tr><td></td><td><span style="color:red"><strong>INT &#x2F; INTEGER [UNSIGNED]</strong></span></td><td><strong>最常用的整数类型</strong>。带符号范围：-2,147,483,648 ~ 2,147,483,647；无符号范围：0 ~ 4,294,967,295。</td></tr><tr><td></td><td><strong>BIGINT [UNSIGNED]</strong></td><td>大整数。带符号范围：-9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807；无符号范围：0 ~ 18,446,744,073,709,551,615。</td></tr><tr><td></td><td><span style="color:red"><strong>FLOAT(M,D) [UNSIGNED]</strong></span></td><td>单精度浮点数。M 为总位数，D 为小数位数。占用 4 字节。存在精度误差。</td></tr><tr><td></td><td><strong>DOUBLE(M, D) [UNSIGNED]</strong></td><td>双精度浮点数。比 FLOAT 精度更高，占用 8 字节。</td></tr><tr><td></td><td><span style="color:red"><strong>DECIMAL(M,D) [UNSIGNED]</strong></span></td><td>定点数（<strong>高精度</strong>）。M 为总位数，D 为小数位数。用于 <strong>货币、金额计算</strong>，不会产生精度误差。</td></tr><tr><td><strong>字符串与二进制类型</strong></td><td><span style="color:red"><strong>CHAR(size)</strong></span></td><td>定长字符串，最大长度 255 字符。不足部分用空格填充。性能稳定但浪费空间。</td></tr><tr><td></td><td><span style="color:red"><strong>VARCHAR(size)</strong></span></td><td><strong>最常用字符串类型</strong>，可变长度字符串，最大 65,535 字符。节省空间，性能较好。</td></tr><tr><td></td><td><span style="color:red"><strong>TEXT</strong></span></td><td>长文本对象，最大 65,535 字符。<strong>不支持默认值</strong>。</td></tr><tr><td></td><td>TINYTEXT &#x2F; MEDIUMTEXT &#x2F; <strong>LONGTEXT</strong></td><td>不同大小的文本类型，最大长度分别为 255、16MB、4GB。</td></tr><tr><td></td><td><strong>BLOB</strong></td><td>二进制大对象，用于存储图片、文件、音频等。</td></tr><tr><td></td><td>TINYBLOB &#x2F; MEDIUMBLOB &#x2F; LONGBLOB</td><td>不同大小的二进制对象类型。</td></tr><tr><td><strong>时间日期类型</strong></td><td><span style="color:red"><strong>DATE</strong></span></td><td>日期类型，格式 <code>YYYY-MM-DD</code>，范围 <code>&#39;1000-01-01&#39;</code> ~ <code>&#39;9999-12-31&#39;</code>。</td></tr><tr><td></td><td><span style="color:red"><strong>DATETIME</strong></span></td><td><strong>最常用时间类型</strong>，格式 <code>YYYY-MM-DD HH:MM:SS</code>，范围 <code>&#39;1000-01-01 00:00:00&#39;</code> ~ <code>&#39;9999-12-31 23:59:59&#39;</code>。不受时区影响。</td></tr><tr><td></td><td><span style="color:red"><strong>TIMESTAMP</strong></span></td><td>时间戳类型，格式 <code>YYYY-MM-DD HH:MM:SS</code>，范围 <code>&#39;1970-01-01 00:00:01&#39;</code> UTC ~ <code>&#39;2038-01-19 03:14:07&#39;</code> UTC。受时区影响，插入&#x2F;更新自动设置当前时间。</td></tr><tr><td></td><td>TIME</td><td>时间类型，格式 <code>HH:MM:SS</code> 或 <code>HHH:MM:SS</code>（可表示超过 24 小时的时间）。</td></tr><tr><td></td><td>YEAR</td><td>年份类型，可为 2 位或 4 位数字格式（推荐 4 位）。</td></tr><tr><td><strong>字符串枚举类型</strong></td><td><span style="color:red"><strong>ENUM(‘v1’,’v2’,…)</strong></span></td><td>枚举类型，列值必须是预定义列表中的一个值。内部按数字存储。节省空间但灵活性差。</td></tr><tr><td></td><td><span style="color:red"><strong>SET(‘v1’,’v2’,…)</strong></span></td><td>集合类型，可同时存储多个预定义值（以逗号分隔）。每个成员值本身不能含逗号。</td></tr></tbody></table><h3 id="1-补充说明"><a href="#1-补充说明" class="headerlink" title="1. 补充说明"></a>1. 补充说明</h3><table><thead><tr><th>项</th><th>说明</th></tr></thead><tbody><tr><td><strong>[UNSIGNED]</strong></td><td>表示无符号数，只能存储正数和零。</td></tr><tr><td><strong>M, D 参数</strong></td><td>在 <code>FLOAT</code>、<code>DOUBLE</code> 中：M 为显示宽度，D 为小数位数；在 <code>DECIMAL</code> 中：M 为总位数，D 为小数位数。</td></tr><tr><td><strong>size 参数</strong></td><td>对于 <code>CHAR</code>、<code>VARCHAR</code>，表示 <strong>字符数</strong> 而非字节数。UTF8 编码下一个字符占 1–3 字节，UTF8MB4 下占 1–4 字节。</td></tr><tr><td><strong>TIMESTAMP 特性</strong></td><td>默认在插入或更新时自动设为当前时间，受服务器时区影响。</td></tr><tr><td><strong>ENUM &#x2F; SET 内部存储</strong></td><td>虽然是字符串类型，但内部以整数映射存储，在性能上优于 <code>VARCHAR</code>，但修改枚举值需要重建表。</td></tr></tbody></table><h3 id="2-实际开发常用推荐表"><a href="#2-实际开发常用推荐表" class="headerlink" title="2. 实际开发常用推荐表"></a>2. 实际开发常用推荐表</h3><table><thead><tr><th>场景</th><th>推荐数据类型</th><th>理由</th></tr></thead><tbody><tr><td>主键、自增 ID</td><td><strong>BIGINT UNSIGNED</strong></td><td>足够大、可自增，不会溢出。</td></tr><tr><td>数量、状态码</td><td><strong>INT &#x2F; TINYINT</strong></td><td>占用少，查询快。</td></tr><tr><td>金额、精确计算</td><td><strong>DECIMAL(10,2)</strong></td><td>高精度，避免浮点误差。</td></tr><tr><td>姓名、标题</td><td><strong>VARCHAR(100)</strong></td><td>适合变长字符串。</td></tr><tr><td>内容、备注</td><td><strong>TEXT</strong></td><td>存放长文本。</td></tr><tr><td>日期时间</td><td><strong>DATETIME</strong></td><td>直观、不受时区影响。</td></tr><tr><td>更新时间</td><td><strong>TIMESTAMP</strong></td><td>自动更新特性方便日志记录。</td></tr><tr><td>性别、状态、类型</td><td><strong>ENUM</strong></td><td>固定选项值，节省空间。</td></tr></tbody></table><h2 id="2-数值类型"><a href="#2-数值类型" class="headerlink" title="2. 数值类型"></a>2. 数值类型</h2><h3 id="1-tinyint-类型"><a href="#1-tinyint-类型" class="headerlink" title="1. tinyint 类型"></a>1. tinyint 类型</h3><h4 id="1-作用"><a href="#1-作用" class="headerlink" title="1. 作用"></a>1. 作用</h4><p><code>TINYINT</code> 是 MySQL 中 <strong>最小的整数类型</strong>，常用于存储范围较小的整数值（例如状态标识、布尔值、性别、等级、标志位等）。它只占用 <strong>1 个字节（8 位）</strong> 存储空间，因此在性能和空间利用上非常高效。</p><h4 id="2-数据范围"><a href="#2-数据范围" class="headerlink" title="2. 数据范围"></a>2. 数据范围</h4><table><thead><tr><th>类型</th><th>取值范围</th></tr></thead><tbody><tr><td><strong>tinyint（有符号）</strong></td><td>-128 ~ 127</td></tr><tr><td><strong>tinyint unsigned（无符号）</strong></td><td>0 ~ 255</td></tr></tbody></table><blockquote><p><code>UNSIGNED</code> 关键字用于声明“无符号整数”，即不存储负数，范围翻倍。</p></blockquote><h4 id="3-基本使用"><a href="#3-基本使用" class="headerlink" title="3. 基本使用"></a>3. 基本使用</h4><p>inyint 类型占用 1 字节，有符号 tinyint 的取值范围为 -128~127，插入该范围内的数据时都能成功插入，如果插入的数据不在 -128～127 范围内，那么插入数据时就会产生报错：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t1，字段 num 类型为 tinyint（默认有符号）</span><br><span class="line"><span class="keyword">create table</span> t1(</span><br><span class="line">    num tinyint</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 插入范围内的数据（<span class="number">100</span> 在 <span class="number">-128</span><span class="operator">~</span><span class="number">127</span> 之间，成功）</span><br><span class="line"><span class="keyword">insert into</span> t1 <span class="keyword">values</span> (<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"># 插入有符号 tinyint 的最小值（<span class="number">-128</span>，成功）</span><br><span class="line"><span class="keyword">insert into</span> t1 <span class="keyword">values</span> (<span class="number">-128</span>);</span><br><span class="line"></span><br><span class="line"># 插入超出范围的数据（<span class="number">-129</span> 小于最小值 <span class="number">-128</span>，报错）</span><br><span class="line"><span class="keyword">insert into</span> t1 <span class="keyword">values</span> (<span class="number">-129</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;num&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 查询表 t1 中的数据，验证插入结果</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> num  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">-128</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br></pre></td></tr></table></figure><p>由于 tinyint 类型占用 1 字节，因此无符号 tinyint 的取值范围为 0<del>255，插入该范围的数据时都能成功插入。如果插入的数据不在 0</del>255 范围内，那么插入数据时就会产生报错：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t2，字段 num 类型为 tinyint unsigned（无符号，范围 <span class="number">0</span><span class="operator">~</span><span class="number">255</span>）</span><br><span class="line"><span class="keyword">create table</span> t2(</span><br><span class="line">    num tinyint unsigned</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 插入范围内的数据（<span class="number">100</span> 在 <span class="number">0</span><span class="operator">~</span><span class="number">255</span> 之间，成功）</span><br><span class="line"><span class="keyword">insert into</span> t2 <span class="keyword">values</span> (<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"># 插入负数（<span class="number">-1</span> 小于 <span class="number">0</span>，无符号不允许负数，报错）</span><br><span class="line"><span class="keyword">insert into</span> t2 <span class="keyword">values</span> (<span class="number">-1</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;num&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入超出最大值的数据（<span class="number">256</span> 大于 <span class="number">255</span>，报错）</span><br><span class="line"><span class="keyword">insert into</span> t2 <span class="keyword">values</span> (<span class="number">256</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;num&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入无符号 tinyint 的最大值（<span class="number">255</span>，成功）</span><br><span class="line"><span class="keyword">insert into</span> t2 <span class="keyword">values</span> (<span class="number">255</span>);</span><br><span class="line"></span><br><span class="line"># 查询表 t2 中的数据，验证插入结果</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t2;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> num  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">255</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br></pre></td></tr></table></figure><h4 id="4-表示布尔值（最常见）"><a href="#4-表示布尔值（最常见）" class="headerlink" title="4. 表示布尔值（最常见）"></a>4. 表示布尔值（最常见）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># tinyint 的常见用途：表示布尔值（<span class="number">0</span> 代表 <span class="literal">false</span>，<span class="number">1</span> 代表 <span class="literal">true</span>）</span><br><span class="line"># 例如创建一个表示&quot;是否启用&quot;的字段，用 tinyint 存储更节省空间</span><br><span class="line"><span class="keyword">create table</span> status_table(</span><br><span class="line">    is_enabled tinyint  # <span class="number">0</span><span class="operator">=</span>禁用，<span class="number">1</span><span class="operator">=</span>启用</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">is_active TINYINT(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="number">1</span> COMMENT <span class="string">&#x27;是否启用：0=禁用，1=启用&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>说明一下：MySQL 本身是不支持 bool 类型的，当把一个数据设置成 bool 类型时，数据库会自动将其转换成 tinyint(1) 的数据类型，其实这个就是变相的 bool 类型，因为 tinyint(1) 只有 1 和 0 两种取值，可以分别对应 bool 类型的 true 和 false。</p><ul><li><code>TINYINT(1)</code> 实际上与 <code>BOOL</code> &#x2F; <code>BOOLEAN</code> 等价；</li><li>存储时底层仍是整数，<code>0</code> 表示 <code>FALSE</code>，非 <code>0</code> 表示 <code>TRUE</code>；</li><li>建议在逻辑字段中统一约定：<code>0</code> &#x3D; 否，<code>1</code> &#x3D; 是。</li></ul></blockquote><h4 id="5-表示小范围状态码"><a href="#5-表示小范围状态码" class="headerlink" title="5. 表示小范围状态码"></a>5. 表示小范围状态码</h4><p>适用于枚举值较少的场景（如状态、类型、标志），取值有限时优先用 <code>TINYINT</code> 而不是 <code>INT</code>，节省空间。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status TINYINT UNSIGNED <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;状态：0=未开始，1=进行中，2=已完成&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="6-作为计数或等级字段"><a href="#6-作为计数或等级字段" class="headerlink" title="6. 作为计数或等级字段"></a>6. 作为计数或等级字段</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">level TINYINT UNSIGNED <span class="keyword">DEFAULT</span> <span class="number">1</span> COMMENT <span class="string">&#x27;等级：1~10&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>适合范围小的整数类型，如用户级别、权限等级、重试次数等。</p></blockquote><h4 id="7-注意事项"><a href="#7-注意事项" class="headerlink" title="7. 注意事项"></a>7. 注意事项</h4><table><thead><tr><th>项目</th><th>说明</th></tr></thead><tbody><tr><td><strong>(1)</strong></td><td><code>TINYINT(1)</code> 中的数字 <code>1</code> <strong>不是长度限制</strong>，而是“显示宽度”，几乎无效。从 MySQL 8.0.17 起被完全废弃。</td></tr><tr><td><strong>(2)</strong></td><td>若定义为 <code>UNSIGNED</code>，再插入负数会报错或被截断为 0。</td></tr><tr><td><strong>(3)</strong></td><td><code>TINYINT</code> 与 <code>BOOLEAN</code> 只是语法同义词，底层存储一样。</td></tr><tr><td><strong>(4)</strong></td><td>若需要表示超过 ±128 的范围，建议改用 <code>SMALLINT</code> 或 <code>INT</code>。</td></tr><tr><td><strong>(5)</strong></td><td>对布尔字段建立索引意义不大（因为区分度太低）。</td></tr></tbody></table><h4 id="8-详细示例"><a href="#8-详细示例" class="headerlink" title="8. 详细示例"></a>8. 详细示例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> user_status (</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">PRIMARY KEY</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;用户ID&#x27;</span>,</span><br><span class="line">    is_active TINYINT(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="number">1</span> COMMENT <span class="string">&#x27;是否启用：0=否，1=是&#x27;</span>,</span><br><span class="line">    status TINYINT UNSIGNED <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;状态：0=未激活，1=已激活，2=冻结&#x27;</span>,</span><br><span class="line">    level TINYINT UNSIGNED <span class="keyword">DEFAULT</span> <span class="number">1</span> COMMENT <span class="string">&#x27;等级：1~10&#x27;</span></span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;用户状态信息表&#x27;</span>;</span><br></pre></td></tr></table></figure><p>执行：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> user_status;</span><br></pre></td></tr></table></figure><p>输出示例：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type               <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span>(<span class="number">11</span>)            <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> is_active <span class="operator">|</span> tinyint(<span class="number">1</span>)         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">1</span>       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> status    <span class="operator">|</span> tinyint unsigned   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> level     <span class="operator">|</span> tinyint unsigned   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">1</span>       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------------+------+-----+---------+-------+</span></span><br></pre></td></tr></table></figure><h3 id="2-bit-类型"><a href="#2-bit-类型" class="headerlink" title="2. bit 类型"></a>2. bit 类型</h3><blockquote><p>一个 <code>TINYINT</code> 存一个状态，而一个 <code>BIT(8)</code> 可以在一个字节中同时存 8 个二进制标志。</p></blockquote><h4 id="1-作用-1"><a href="#1-作用-1" class="headerlink" title="1. 作用"></a>1. 作用</h4><p><code>BIT</code> 类型用于存储 <strong>二进制位数据（bit data）</strong>，常用于表示 <strong>标志位、状态开关、权限标识、布尔组合等场景</strong>。它能更高效地存储多个开关量，相当于一组二进制“位标志位数组”。</p><h4 id="2-数据范围-1"><a href="#2-数据范围-1" class="headerlink" title="2. 数据范围"></a>2. 数据范围</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BIT[(M)]</span><br></pre></td></tr></table></figure><table><thead><tr><th>项目</th><th>说明</th></tr></thead><tbody><tr><td><strong>M</strong></td><td>表示位数，取值范围为 <strong>1–64</strong>。如果省略，默认为 1。</td></tr><tr><td><strong>存储空间</strong></td><td>每 8 位占用 1 字节（向上取整）。</td></tr><tr><td><strong>值范围</strong></td><td>可存储从 <code>0</code> 到 <code>2^M - 1</code> 的整数值。</td></tr></tbody></table><table><thead><tr><th>MySQL 类型</th><th>位数</th><th>存储空间</th><th>C 语言类比</th><th>取值范围（有符号）</th></tr></thead><tbody><tr><td><code>BIT(1)</code></td><td>1 位</td><td>约 1 位（实际存储会按字节对齐，通常占 1 字节）</td><td><code>unsigned char</code>（低 1 位）</td><td>0 ～ 1</td></tr><tr><td><code>BIT(4)</code></td><td>4 位</td><td>约 4 位（实际存储占 1 字节）</td><td><code>unsigned char</code>（低 4 位）</td><td>0 ～ 15</td></tr><tr><td><code>BIT(8)</code></td><td>8 位</td><td>1 字节</td><td><code>unsigned char</code></td><td>0 ～ 255</td></tr><tr><td><code>BIT(16)</code></td><td>16 位</td><td>2 字节</td><td><code>unsigned short</code></td><td>0 ～ 65,535</td></tr><tr><td><code>BIT(32)</code></td><td>32 位</td><td>4 字节</td><td><code>unsigned int</code></td><td>0 ～ 4,294,967,295</td></tr><tr><td><code>BIT(64)</code></td><td>64 位</td><td>8 字节</td><td><code>unsigned long long</code></td><td>0 ～ 18,446,744,073,709,551,615</td></tr></tbody></table><h4 id="3-基本使用-1"><a href="#3-基本使用-1" class="headerlink" title="3. 基本使用"></a>3. 基本使用</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create table</span> t3 (id <span class="type">int</span>,num bit(<span class="number">8</span>));		# 定义 num 为 <span class="number">8</span> 位的 bit 类型</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert into</span> t3 <span class="keyword">values</span> (<span class="number">10</span>,<span class="number">10</span>);	# 插入十进制 <span class="number">10</span>，自动转为 <span class="number">8</span> 位二进制 <span class="number">00001010</span></span><br><span class="line"></span><br><span class="line"># 也可以用二进制格式插入等价数据：</span><br><span class="line"><span class="keyword">insert into</span> t3 <span class="keyword">values</span> (<span class="number">11</span>, b<span class="string">&#x27;00001010&#x27;</span>);  # 二进制 <span class="number">00001010</span> 等价于十进制 <span class="number">10</span></span><br><span class="line"><span class="keyword">insert into</span> t3 <span class="keyword">values</span> (<span class="number">12</span>, <span class="number">0</span>b00001010);   # <span class="number">0</span>b 前缀也表示二进制</span><br></pre></td></tr></table></figure><p>直接查询 <code>bit</code> 类型字段时，MySQL 会默认以 <strong>十六进制字符串</strong> 显示，如果想查看十进制或二进制值，需用函数转换：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># 示例查询结果（默认十六进制）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t3;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> num        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span>   <span class="operator">|</span> <span class="number">0x0A</span>       <span class="operator">|</span>  # <span class="number">0x0A</span> 是十六进制，对应二进制 <span class="number">00001010</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------------+</span></span><br><span class="line"></span><br><span class="line"># 用 hex() 函数显式查看十六进制（和默认一致），语法：<span class="keyword">select</span> id, hex(num) <span class="keyword">from</span> 表名;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id, hex(num) <span class="keyword">from</span> t3;		# 结果：<span class="number">10</span> <span class="operator">|</span> <span class="number">0</span>A</span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> hex(num) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">10</span> <span class="operator">|</span> A        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">11</span> <span class="operator">|</span> A        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">12</span> <span class="operator">|</span> A        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"></span><br><span class="line"># 用 bin() 函数查看二进制（补全位数），语法：<span class="keyword">select</span> id, bin(num) <span class="keyword">from</span> 表名;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id, bin(num) <span class="keyword">from</span> t3;		# 结果：<span class="number">10</span> <span class="operator">|</span> <span class="number">1010</span>（注意：MySQL 会省略前导 <span class="number">0</span>，实际存储是 <span class="number">8</span> 位 <span class="number">00001010</span>）</span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> bin(num) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">10</span> <span class="operator">|</span> <span class="number">1010</span>     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">11</span> <span class="operator">|</span> <span class="number">1010</span>     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">12</span> <span class="operator">|</span> <span class="number">1010</span>     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------+</span></span><br><span class="line"></span><br><span class="line"># 用 <span class="built_in">cast</span>() 转换为十进制整数查看，语法：<span class="keyword">select</span> id, <span class="built_in">cast</span>(num <span class="keyword">as</span> unsigned) <span class="keyword">from</span> 表名;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id, <span class="built_in">cast</span>(num <span class="keyword">as</span> unsigned) <span class="keyword">from</span> t3;	# 结果：<span class="number">10</span> <span class="operator">|</span> <span class="number">10</span>（转回十进制）</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> <span class="built_in">cast</span>(num <span class="keyword">as</span> unsigned) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------------------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">10</span> <span class="operator">|</span>                    <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">11</span> <span class="operator">|</span>                    <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">12</span> <span class="operator">|</span>                    <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------------------+</span></span><br></pre></td></tr></table></figure><h4 id="4-存储布尔值或开关状态（节省空间）"><a href="#4-存储布尔值或开关状态（节省空间）" class="headerlink" title="4. 存储布尔值或开关状态（节省空间）"></a>4. 存储布尔值或开关状态（节省空间）</h4><p><code>bit(1)</code> 可存储 1 位二进制（0 或 1），适合表示布尔值（如 <code>是否有效</code>、<code>开关状态</code> 等），比 <code>tinyint</code> 更节省空间（1 位 vs 1 字节）。比如：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create table</span> t4 (</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>   id <span class="type">int</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>   gender bit(<span class="number">1</span>)  # <span class="number">1</span> 表示男，<span class="number">0</span> 表示女</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> );</span><br><span class="line"></span><br><span class="line"># 插入 id<span class="operator">=</span><span class="number">1</span>、性别为男（用 <span class="number">1</span> 表示）的记录</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert into</span> t4 <span class="keyword">values</span> (<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"># 插入 id<span class="operator">=</span><span class="number">2</span>、性别为女（用 <span class="number">0</span> 表示）的记录</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert into</span> t4 <span class="keyword">values</span> (<span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"># 若插入非 <span class="number">0</span><span class="operator">/</span><span class="number">1</span> 的值（如 <span class="number">2</span>），会报错（bit(<span class="number">1</span>) 只能存 <span class="number">1</span> 位二进制，范围 <span class="number">0</span><span class="operator">~</span><span class="number">1</span>）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert into</span> t4 <span class="keyword">values</span> (<span class="number">3</span>, <span class="number">2</span>);</span><br><span class="line">ERROR <span class="number">1406</span> (<span class="number">22001</span>): Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;gender&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t4;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> gender         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">0x01</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> <span class="number">0x00</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------------+</span></span><br><span class="line"></span><br><span class="line"># 用 <span class="built_in">cast</span>(gender <span class="keyword">as</span> unsigned) 转为十进制，再给列起别名 （如 gender_desc），结果更易理解</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> </span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>   id,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>   <span class="built_in">cast</span>(gender <span class="keyword">as</span> unsigned) <span class="keyword">as</span> gender_code,  # 转十进制 后显示 <span class="number">0</span><span class="operator">/</span><span class="number">1</span>（性别编码）</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>   <span class="keyword">case</span> <span class="built_in">cast</span>(gender <span class="keyword">as</span> unsigned)  # 用 <span class="keyword">case</span> 语句将 <span class="number">0</span><span class="operator">/</span><span class="number">1</span>  转为具体文字（可选，更友好）</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>     <span class="keyword">when</span> <span class="number">1</span> <span class="keyword">then</span> <span class="string">&#x27;男&#x27;</span> </span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>     <span class="keyword">when</span> <span class="number">0</span> <span class="keyword">then</span> <span class="string">&#x27;女&#x27;</span> </span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span>   <span class="keyword">end</span> <span class="keyword">as</span> gender_desc</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> t4;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> gender_code <span class="operator">|</span> gender_desc <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+-------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span> 男          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>           <span class="number">0</span> <span class="operator">|</span> 女          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+-------------+</span></span><br></pre></td></tr></table></figure><h3 id="3-小数类型"><a href="#3-小数类型" class="headerlink" title="3. 小数类型"></a>3. 小数类型</h3><h4 id="1-float-类型"><a href="#1-float-类型" class="headerlink" title="1. float 类型"></a>1. float 类型</h4><h5 id="1-作用-2"><a href="#1-作用-2" class="headerlink" title="1. 作用"></a>1. 作用</h5><p><code>float</code> 是用于存储单精度浮点数的数值类型，主要用于表示带小数部分的数值（如身高、体重、温度等），其核心特点是 <strong>占用空间小、计算效率高</strong>，但精度有限（适用于对精度要求不高的场景）。</p><h5 id="2-数据范围-2"><a href="#2-数据范围-2" class="headerlink" title="2. 数据范围"></a>2. 数据范围</h5><ul><li><strong>存储空间</strong>：4 字节（32 位）。</li><li><strong>取值范围：</strong> 绝对值最大能达到接近 10^38^ 数量级。</li><li><strong>精度限制</strong>：约 6~7 位有效数字（超过后可能产生精度丢失，这是浮点数的固有特性）。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span>(M, D)</span><br></pre></td></tr></table></figure><ul><li><code>M</code>：<strong>总位数</strong>（整数部分 + 小数部分的总长度，范围 1~255）。</li><li><code>D</code>：<strong>小数位数</strong>（小数点后的位数，范围 0~30，且 <code>D</code> 必须小于 <code>M</code>）。</li></ul><p>例如 <code>float(5, 2)</code> 表示：总长度 5 位，其中小数部分占 2 位，整数部分最多 3 位（可存储范围：-999.99 ~ 999.99）。<strong>如果省略 <code>M</code> 和 <code>D</code>（直接写 <code>float</code>），MySQL 会根据插入的数据自动分配存储空间（默认单精度，占用 4 字节）。</strong></p><h5 id="3-基本使用-2"><a href="#3-基本使用-2" class="headerlink" title="3. 基本使用"></a>3. 基本使用</h5><p>以 <code>float(5, 2)</code> 为例：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># <span class="type">float</span>(M,D) 中：M<span class="operator">=</span><span class="number">5</span> 表示总位数（整数<span class="operator">+</span>小数共<span class="number">5</span>位），D<span class="operator">=</span><span class="number">2</span> 表示小数部分占<span class="number">2</span>位</span><br><span class="line"># 因此整数部分最多 <span class="number">3</span> 位（<span class="number">5</span><span class="number">-2</span><span class="operator">=</span><span class="number">3</span>），取值范围为 <span class="number">-999.99</span> <span class="operator">~</span> <span class="number">999.99</span></span><br><span class="line"><span class="keyword">create table</span> t5(height <span class="type">float</span>(<span class="number">5</span>,<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">99.99</span>：整数部分<span class="number">2</span>位 <span class="operator">+</span> 小数<span class="number">2</span>位，总<span class="number">4</span>位（未超过<span class="number">5</span>位），符合范围 → 成功</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">99.99</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">-99.99</span>：负数同样遵循范围约束（<span class="number">-99.99</span> 在 <span class="number">-999.99</span> <span class="operator">~</span> <span class="number">999.99</span> 之间）→ 成功</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">-99.99</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">1000.1</span>：整数部分<span class="number">4</span>位（<span class="number">1000</span>）<span class="operator">+</span> 小数<span class="number">1</span>位，总位数超过<span class="number">5</span>位 → 超出范围，报错</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">1000.1</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;height&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">999.99</span>：整数部分<span class="number">3</span>位（<span class="number">999</span>）<span class="operator">+</span> 小数<span class="number">2</span>位，总<span class="number">5</span>位（刚好达到上限）→ 成功</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">999.99</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">999.994</span>：小数部分实际<span class="number">3</span>位（<span class="number">994</span>），定义为<span class="number">2</span>位 → 四舍五入后为<span class="number">999.99</span>（未超上限）→ 成功</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">999.994</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">999.995</span>：四舍五入后为<span class="number">1000.00</span>，整数部分变为<span class="number">4</span>位（<span class="number">1000</span>），总位数超过<span class="number">5</span>位 → 超出范围，报错</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">999.995</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;height&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># <span class="number">-999.995</span> 需四舍五入到<span class="number">2</span>位小数：小数点后第<span class="number">3</span>位是<span class="number">5</span>，向前进<span class="number">1</span> → 结果为 <span class="number">-1000.00</span> 超过<span class="number">5</span>位限制 → 报错</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">-999.995</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;height&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># <span class="number">-999.994</span> 四舍五入到<span class="number">2</span>位小数：小数点后第<span class="number">3</span>位是<span class="number">4</span>，舍去 → 结果为 <span class="number">-999.99</span> 符合 <span class="type">float</span>(<span class="number">5</span>,<span class="number">2</span>) 约束 → 成功</span><br><span class="line"><span class="keyword">insert into</span> t5 <span class="keyword">values</span>(<span class="number">-999.994</span>);</span><br></pre></td></tr></table></figure><p>创建表 t6，定义 height 为 <code>float(4,2) unsigned</code> 进行演示：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># <span class="type">float</span>(<span class="number">4</span>,<span class="number">2</span>) 表示总位数≤<span class="number">4</span>，小数部分固定<span class="number">2</span>位 → 整数部分最多<span class="number">2</span>位（<span class="number">4</span><span class="number">-2</span><span class="operator">=</span><span class="number">2</span>）</span><br><span class="line"># unsigned 表示无符号 → 只能存储非负数（≥<span class="number">0</span>）</span><br><span class="line"><span class="keyword">create table</span> t6(height <span class="type">float</span>(<span class="number">4</span>,<span class="number">2</span>)  unsigned);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">-0.1</span>：负数，违反 unsigned 无符号约束（只能存≥<span class="number">0</span>的值）→ 报错</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span> (<span class="number">-0.1</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;height&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">0</span>：<span class="number">0</span> 是非负数，且总位数（<span class="number">0.00</span>，整数<span class="number">0</span>位<span class="operator">+</span>小数<span class="number">2</span>位）符合 <span class="type">float</span>(<span class="number">4</span>,<span class="number">2</span>) → 成功</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">-0.01</span>：负数，违反 unsigned 约束 → 报错</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">-0.01</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;height&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">99.94</span>：整数部分<span class="number">2</span>位（<span class="number">99</span>）<span class="operator">+</span> 小数<span class="number">2</span>位 → 总位数<span class="number">4</span>，且非负数 → 符合约束 → 成功</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">99.94</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">99.95</span>：整数部分<span class="number">2</span>位 <span class="operator">+</span> 小数<span class="number">2</span>位 → 总位数<span class="number">4</span>，非负数 → 成功</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">99.95</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">99.99</span>：整数部分<span class="number">2</span>位 <span class="operator">+</span> 小数<span class="number">2</span>位 → 总位数<span class="number">4</span>，非负数 → 成功（达到理论最大值）</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">99.99</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">99.994</span>：需四舍五入到<span class="number">2</span>位小数 → <span class="number">99.99</span>（整数<span class="number">2</span>位<span class="operator">+</span>小数<span class="number">2</span>位，总<span class="number">4</span>位）→ 成功</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">99.994</span>);</span><br><span class="line"></span><br><span class="line"># 插入 <span class="number">99.995</span>：四舍五入到<span class="number">2</span>位小数 → <span class="number">100.00</span>（整数部分变为<span class="number">3</span>位，总位数<span class="operator">=</span><span class="number">3</span><span class="operator">+</span><span class="number">2</span><span class="operator">=</span><span class="number">5</span>＞<span class="number">4</span>）→ 超出范围 → 报错</span><br><span class="line"><span class="keyword">insert into</span> t6 <span class="keyword">values</span>(<span class="number">99.995</span>);</span><br><span class="line">ERROR <span class="number">1264</span> (<span class="number">22003</span>): <span class="keyword">Out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">value</span> <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;height&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="2-decimal-类型"><a href="#2-decimal-类型" class="headerlink" title="2. decimal 类型"></a>2. decimal 类型</h4><p><code>decimal</code> 和 <code>float</code> 类型的使用方式 <strong>一模一样</strong>，但 <strong><code>decimal</code> 的精度比 <code>float</code> 更高</strong>。这里就不详细讲解，类比使用：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t7，定义两个字段：</span><br><span class="line"># n1 为 <span class="type">float</span>(<span class="number">10</span>,<span class="number">8</span>)：单精度浮点数，总位数<span class="number">10</span>位，小数部分<span class="number">8</span>位（整数部分最多<span class="number">2</span>位）</span><br><span class="line"># n2 为 <span class="type">decimal</span>(<span class="number">10</span>,<span class="number">8</span>)：高精度小数（定点数），总位数<span class="number">10</span>位，小数部分<span class="number">8</span>位（整数部分最多<span class="number">2</span>位）</span><br><span class="line"># 对比两者在存储精度上的差异</span><br><span class="line"><span class="keyword">create table</span> t7(n1 <span class="type">float</span>(<span class="number">10</span>,<span class="number">8</span>),n2 <span class="type">decimal</span>(<span class="number">10</span>,<span class="number">8</span>));</span><br><span class="line"></span><br><span class="line"># 插入相同的数值 <span class="number">3.1415926</span>（小数部分<span class="number">7</span>位）到两个字段</span><br><span class="line"><span class="keyword">insert into</span> t7 <span class="keyword">values</span>(<span class="number">3.1415926</span>,<span class="number">3.1415926</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"># 查询结果，观察精度差异：</span><br><span class="line"># n1（<span class="type">float</span>类型）：存储结果为 <span class="number">3.14159250</span>，与原始值有细微偏差（精度丢失）</span><br><span class="line"># 原因：<span class="type">float</span>是浮点数，用二进制近似存储，无法精确表示某些十进制小数，超过<span class="number">6</span><span class="number">-7</span>位有效数字后会失真</span><br><span class="line"># n2（<span class="type">decimal</span>类型）：存储结果为 <span class="number">3.14159260</span>，完全精确（补全<span class="number">8</span>位小数为<span class="number">9260</span>）</span><br><span class="line"># 原因：<span class="type">decimal</span>是定点数，按十进制存储，能精确表示小数，适合对精度要求高的场景（如金额）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t7;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------+</span></span><br><span class="line"><span class="operator">|</span> n1         <span class="operator">|</span> n2         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">3.14159250</span> <span class="operator">|</span> <span class="number">3.14159260</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="3-字符串类型"><a href="#3-字符串类型" class="headerlink" title="3. 字符串类型"></a>3. 字符串类型</h2><h3 id="1-char-类型"><a href="#1-char-类型" class="headerlink" title="1. char 类型"></a>1. char 类型</h3><h4 id="1-作用-3"><a href="#1-作用-3" class="headerlink" title="1. 作用"></a>1. 作用</h4><p><code>char</code> 是一种 <strong>固定长度</strong> 的字符串类型，适用于存储长度固定或变化很小的字符串（如手机号、身份证号、性别标识等）。其核心特点是 <strong>存储空间固定，无论实际存储的字符串长度如何，都会占用预设的固定字节数。</strong></p><h4 id="2-数据范围-3"><a href="#2-数据范围-3" class="headerlink" title="2. 数据范围"></a>2. 数据范围</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>(L)</span><br></pre></td></tr></table></figure><ul><li><code>L</code> 表示字符串的长度（即最多能存储的字符数），范围是 0~255（单位：字符，不是字节）。</li><li>例如 <code>char(10)</code> 表示该字段最多存储 10 个字符，无论实际插入的字符串是 1 个还是 10 个字符，都会占用 10 个字符对应的存储空间（具体字节数取决于字符集，如 UTF8 中一个字符可能占 1~3 字节）。</li></ul><h4 id="3-基本使用-3"><a href="#3-基本使用-3" class="headerlink" title="3. 基本使用"></a>3. 基本使用</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t8，定义 str 字段为 <span class="type">char</span>(<span class="number">6</span>)（固定存储<span class="number">6</span>个字符）</span><br><span class="line"><span class="keyword">create table</span> t8(str <span class="type">char</span>(<span class="number">6</span>));</span><br><span class="line"></span><br><span class="line"># 插入值时未用引号包裹&quot;minbit&quot;，MySQL会误认为是列名，导致&quot;未知列&quot;错误，注意：字符串值必须用单引号(<span class="string">&#x27;&#x27;</span>)或双引号(&quot;&quot;)包裹</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (minbit);</span><br><span class="line">ERROR <span class="number">1054</span> (<span class="number">42</span>S22): <span class="literal">Unknown</span> <span class="keyword">column</span> <span class="string">&#x27;minbit&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;field list&#x27;</span></span><br><span class="line"></span><br><span class="line"># 用单引号包裹字符串&quot;minbit&quot;（长度<span class="number">6</span>个字符，刚好符合<span class="type">char</span>(<span class="number">6</span>)的长度）→ 插入成功</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (<span class="string">&#x27;minbit&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># 用双引号包裹字符串&quot;minbit&quot;（效果同单引号，MySQL支持单<span class="operator">/</span>双引号表示字符串）→ 插入成功</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (&quot;minbit&quot;);</span><br><span class="line"></span><br><span class="line"># 插入字符串&quot;minbit1&quot;（长度<span class="number">7</span>个字符，超过<span class="type">char</span>(<span class="number">6</span>)定义的最大长度<span class="number">6</span>）→ 超长报错</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (&quot;minbit1&quot;);</span><br><span class="line">ERROR <span class="number">1406</span> (<span class="number">22001</span>): Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;str&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入中文字符串&quot;小米里的大麦&quot;（长度<span class="number">6</span>个汉字，每个汉字按<span class="number">1</span>个字符计数，符合<span class="type">char</span>(<span class="number">6</span>)）→ 成功</span><br><span class="line"># 说明：<span class="type">char</span>(L)中的L是&quot;字符数&quot;，不是字节数，中文也按<span class="number">1</span>个字符算（具体字节数取决于字符集）</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (&quot;小米里的大麦&quot;);</span><br><span class="line"></span><br><span class="line"># 插入&quot;小米里的大麦1&quot;（<span class="number">6</span>个汉字<span class="operator">+</span><span class="number">1</span>个字母，共<span class="number">7</span>个字符，超过<span class="number">6</span>）→ 超长报错</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (&quot;小米里的大麦1&quot;);</span><br><span class="line">ERROR <span class="number">1406</span> (<span class="number">22001</span>): Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;str&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入字符串&quot;1&quot;（长度<span class="number">1</span>个字符，短于<span class="number">6</span>）→ 成功（MySQL会自动补<span class="number">5</span>个空格至<span class="number">6</span>个字符长度）</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (&quot;1&quot;);</span><br><span class="line"></span><br><span class="line"># 插入空字符串&quot;&quot;（长度<span class="number">0</span>，符合<span class="type">char</span>(<span class="number">6</span>)允许的范围）→ 成功（存储<span class="number">6</span>个空格）</span><br><span class="line"><span class="keyword">insert into</span> t8 <span class="keyword">values</span> (&quot;&quot;);</span><br><span class="line"></span><br><span class="line"># 查询表中数据，注意：</span><br><span class="line"># <span class="number">1.</span> 短于<span class="number">6</span>个字符的字符串（如&quot;1&quot;），查询时自动去除末尾填充的空格，显示原始长度</span><br><span class="line"># <span class="number">2.</span> 空字符串显示为空白（实际存储<span class="number">6</span>个空格，查询时去除后为空）</span><br><span class="line"># <span class="number">3.</span> 刚好<span class="number">6</span>个字符的字符串（如&quot;minbit&quot;、&quot;小米里的大麦&quot;）原样显示</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> t8;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> str                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> minbit             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> minbit             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 小米里的大麦       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1</span>                  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>                    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br></pre></td></tr></table></figure><h3 id="2-varchar-类型"><a href="#2-varchar-类型" class="headerlink" title="2. varchar 类型"></a>2. varchar 类型</h3><h4 id="1-作用-4"><a href="#1-作用-4" class="headerlink" title="1. 作用"></a>1. 作用</h4><p><code>varchar</code> 是一种 <strong>可变长度的字符串类型</strong>，适用于存储长度不固定或变化较大的字符串（如用户名、地址、备注等）。其核心特点是 <strong>存储空间随实际字符串长度变化</strong>，避免了固定长度类型（如 <code>char</code>）的空间浪费。</p><h4 id="2-数据范围-4"><a href="#2-数据范围-4" class="headerlink" title="2. 数据范围"></a>2. 数据范围</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">varchar</span>(L)</span><br></pre></td></tr></table></figure><ul><li><code>L</code> 表示字符串的最大长度（最多能存储的字符数），范围根据 MySQL 版本和存储引擎有所不同（通常为 0<del>65535，实际受表中其他字段总长度限制），**注意：其中有 1</del>2 字节用来表示实际数据长度，还有 1 字节来存储其他控制信息，因此 varchar 类型的有效字节数最多是 65532 字节。**</li><li>例如 <code>varchar(50)</code> 表示该字段最多存储 50 个字符，实际存储时会根据插入的字符串长度动态分配空间（不会像 <code>char</code> 那样固定占用 50 个字符的空间）。</li></ul><p><strong>注意：</strong> 在 MySQL 中，<code>VARCHAR</code> 类型的最大长度不是以“字符数”为上限，而是受 <strong>存储字节数</strong> 限制。理论上，单行数据总字节上限为 <strong>65535 字节</strong>（含记录开销），因此 <code>VARCHAR(L)</code> 的最大值要根据字符集计算：例如在 <code>utf8</code> 编码下，一个字符最多占 3 字节，理论上 <code>65532 ÷ 3 ≈ 21844</code>，而在 <code>gbk</code> 编码下为 <code>65532 ÷ 2 ≈ 32766</code>。但在实际中，<strong>InnoDB 存储引擎</strong>（尤其是默认 <code>COMPACT</code> 或 <code>REDUNDANT</code> 行格式）会对单个 <code>VARCHAR</code> 字段额外限制其最大存储字节数为 <strong>16383 字节</strong>，超出即报错：<code>ERROR 1074 (42000): Column length too big for column &#39;str&#39; (max = 16383); use BLOB or TEXT instead</code>。比如下面是我的配置：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"># 查看指定表（如t9）的状态信息，\G表示按行垂直显示结果（更易读）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">TABLE</span> STATUS <span class="keyword">LIKE</span> <span class="string">&#x27;t9&#x27;</span>\G</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line">           Name: t9                  # 表名</span><br><span class="line">         Engine: InnoDB              # 存储引擎为InnoDB（MySQL默认的事务型引擎）</span><br><span class="line">        Version: <span class="number">10</span>                  # 表结构版本</span><br><span class="line">     Row_format: <span class="keyword">Dynamic</span>             # 行格式为<span class="keyword">Dynamic</span>（InnoDB动态行格式，支持变长字段高效存储）</span><br><span class="line">           <span class="keyword">Rows</span>: <span class="number">4</span>                   # 估算的行数（非精确值，InnoDB通过统计信息计算）</span><br><span class="line"> Avg_row_length: <span class="number">4096</span>                # 平均每行占用的字节数（总数据长度<span class="operator">/</span>行数）</span><br><span class="line">    Data_length: <span class="number">16384</span>               # 表数据占用的字节数（<span class="number">16384</span>字节<span class="operator">=</span><span class="number">16</span>KB，InnoDB最小分配单位）</span><br><span class="line">Max_data_length: <span class="number">0</span>                   # 表可存储的最大数据量（InnoDB不限制，故为<span class="number">0</span>）</span><br><span class="line">   Index_length: <span class="number">0</span>                   # 索引占用的字节数（该表无索引，故为<span class="number">0</span>）</span><br><span class="line">      Data_free: <span class="number">0</span>                   # 已分配但未使用的空间（该表数据紧凑，故为<span class="number">0</span>）</span><br><span class="line"> Auto_increment: <span class="keyword">NULL</span>                # 自增字段的下一个值（该表无自增字段，故为<span class="keyword">NULL</span>）</span><br><span class="line">    Create_time: <span class="number">2025</span><span class="number">-10</span><span class="number">-10</span> <span class="number">15</span>:<span class="number">00</span>:<span class="number">57</span> # 表的创建时间</span><br><span class="line">    Update_time: <span class="number">2025</span><span class="number">-10</span><span class="number">-10</span> <span class="number">15</span>:<span class="number">02</span>:<span class="number">17</span> # 表数据最后更新时间</span><br><span class="line">     Check_time: <span class="keyword">NULL</span>                # 最后一次检查表的时间（未检查过，故为<span class="keyword">NULL</span>）</span><br><span class="line">      <span class="keyword">Collation</span>: utf8mb4_general_ci  # 表的默认字符集排序规则（utf8mb4编码对应的通用排序）</span><br><span class="line">       Checksum: <span class="keyword">NULL</span>                # 表的校验和（未启用，故为<span class="keyword">NULL</span>）</span><br><span class="line"> Create_options:                     # 创建表时的额外选项（无特殊选项，故为空）</span><br><span class="line">        Comment:                     # 表的注释（无注释，故为空）</span><br><span class="line"></span><br><span class="line"># 查看数据库默认字符集（当前为utf8mb4，支持emoji和所有Unicode字符）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;character_set_database&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+---------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name          <span class="operator">|</span> <span class="keyword">Value</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+---------+</span></span><br><span class="line"><span class="operator">|</span> character_set_database <span class="operator">|</span> utf8mb4 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+---------+</span></span><br><span class="line"></span><br><span class="line"># 查看数据库默认排序规则（utf8mb4_general_ci为utf8mb4的通用不区分大小写排序）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;collation_database&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+--------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name      <span class="operator">|</span> <span class="keyword">Value</span>              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+--------------------+</span></span><br><span class="line"><span class="operator">|</span> collation_database <span class="operator">|</span> utf8mb4_general_ci <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+--------------------+</span></span><br><span class="line"></span><br><span class="line"># 查看InnoDB文件格式（MySQL <span class="number">8.0</span>已移除该参数，默认使用Barracuda格式，故为空）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_file_format&#x27;</span>;</span><br><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"># 查看InnoDB默认行格式（<span class="keyword">Dynamic</span>为动态行格式，适合存储变长字段，节省空间）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_default_row_format&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------------+---------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name             <span class="operator">|</span> <span class="keyword">Value</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------------+---------+</span></span><br><span class="line"><span class="operator">|</span> innodb_default_row_format <span class="operator">|</span> <span class="keyword">dynamic</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------------+---------+</span></span><br><span class="line"></span><br><span class="line"># 查看是否启用独立表空间（<span class="keyword">ON</span>表示每张表单独存储为.ibd文件，便于管理）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_file_per_table&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name         <span class="operator">|</span> <span class="keyword">Value</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> innodb_file_per_table <span class="operator">|</span> <span class="keyword">ON</span>    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"></span><br><span class="line"># 查看MySQL服务器版本（当前为<span class="number">8.0</span><span class="number">.43</span>，基于Ubuntu <span class="number">22.04</span>系统）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> VERSION();</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+</span></span><br><span class="line"><span class="operator">|</span> VERSION()               <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">8.0</span><span class="number">.43</span><span class="number">-0</span>ubuntu0<span class="number">.22</span><span class="number">.04</span><span class="number">.2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+</span></span><br><span class="line"></span><br><span class="line"># 查看服务器默认字符集（与数据库一致，均为utf8mb4）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;character_set_server&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+---------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name        <span class="operator">|</span> <span class="keyword">Value</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+---------+</span></span><br><span class="line"><span class="operator">|</span> character_set_server <span class="operator">|</span> utf8mb4 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+---------+</span></span><br><span class="line"></span><br><span class="line"># 查看服务器默认排序规则（与数据库一致，确保字符处理规则统一）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;collation_server&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+--------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name    <span class="operator">|</span> <span class="keyword">Value</span>              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+--------------------+</span></span><br><span class="line"><span class="operator">|</span> collation_server <span class="operator">|</span> utf8mb4_general_ci <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------+--------------------+</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>配置一览</th><th>当前配置</th><th>说明</th></tr></thead><tbody><tr><td><strong>MySQL 版本</strong></td><td>8.0.43</td><td>新版 InnoDB，默认行格式已为 Dynamic</td></tr><tr><td><strong>存储引擎</strong></td><td>InnoDB</td><td>支持大字段分离存储</td></tr><tr><td><strong>行格式</strong></td><td>Dynamic</td><td>允许单行超出 8KB，字段可溢出页外存储</td></tr><tr><td><strong>字符集</strong></td><td>utf8mb4</td><td>每字符最多 4 字节</td></tr><tr><td><strong>校验规则</strong></td><td>utf8mb4_general_ci</td><td>默认排序规则</td></tr><tr><td><strong>每表独立文件</strong></td><td>ON</td><td>每张表独立存储，支持更大数据量</td></tr></tbody></table><p>我的配置只能配置 <code>varchar(16383)</code>。</p><h4 id="3-基本使用-4"><a href="#3-基本使用-4" class="headerlink" title="3. 基本使用"></a>3. 基本使用</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t9，定义 str 字段为 <span class="type">varchar</span>(<span class="number">6</span>)（可变长度字符串，最大<span class="number">6</span>个字符）</span><br><span class="line"><span class="keyword">create table</span> t9(str <span class="type">varchar</span>(<span class="number">6</span>));</span><br><span class="line"></span><br><span class="line"># 插入数值<span class="number">1</span>（未加引号，MySQL会自动转为字符串&quot;1&quot;，长度<span class="number">1</span> ≤ <span class="number">6</span>）→ 成功，说明：<span class="type">varchar</span> 是字符串类型，插入数值时会隐式转换为字符串存储</span><br><span class="line"><span class="keyword">insert into</span> t9 <span class="keyword">values</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"># 插入单引号包裹的字符串&quot;minbit&quot;（长度<span class="number">6</span>个字符，刚好达到 <span class="type">varchar</span>(<span class="number">6</span>) 的最大限制）→ 成功</span><br><span class="line"><span class="keyword">insert into</span> t9 <span class="keyword">values</span>(<span class="string">&#x27;minbit&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># 插入双引号包裹的中文字符串&quot;小米里的大麦&quot;（长度<span class="number">6</span>个汉字，每个汉字按<span class="number">1</span>个字符计数，符合最大长度<span class="number">6</span>）→ 成功</span><br><span class="line"># 注意：<span class="type">varchar</span>(L) 中的 L 是字符数，中文、字母、数字均按<span class="number">1</span>个字符计算</span><br><span class="line"><span class="keyword">insert into</span> t9 <span class="keyword">values</span>(&quot;小米里的大麦&quot;);</span><br><span class="line"></span><br><span class="line"># 插入&quot;小米里的大麦1&quot;（<span class="number">6</span>个汉字<span class="operator">+</span><span class="number">1</span>个数字，共<span class="number">7</span>个字符，超过 <span class="type">varchar</span>(<span class="number">6</span>) 的最大长度）→ 超长报错</span><br><span class="line"><span class="keyword">insert into</span> t9 <span class="keyword">values</span>(&quot;小米里的大麦1&quot;);</span><br><span class="line">ERROR <span class="number">1406</span> (<span class="number">22001</span>): Data too long <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;str&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入空值（未指定具体值，等价于插入 <span class="keyword">NULL</span> 或空字符串，符合长度要求）→ 成功</span><br><span class="line"># <span class="type">varchar</span> 允许存储空值，此时不占用额外空间（仅存储长度标识）</span><br><span class="line"><span class="keyword">insert into</span> t9 <span class="keyword">values</span>();</span><br><span class="line"></span><br><span class="line"># 查询 t9 表中的所有数据，观察 <span class="type">varchar</span>(<span class="number">6</span>) 字段的存储结果</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> t9;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> str                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1</span>                  <span class="operator">|</span>  # 对应插入的数值<span class="number">1</span>，自动转为字符串&quot;1&quot;（长度<span class="number">1</span>，按实际长度存储）</span><br><span class="line"><span class="operator">|</span> minbit             <span class="operator">|</span>  # 插入的<span class="number">6</span>字符字符串，刚好达到<span class="type">varchar</span>(<span class="number">6</span>)的最大长度，完整存储</span><br><span class="line"><span class="operator">|</span> 小米里的大麦       <span class="operator">|</span>  # 插入的<span class="number">6</span>个汉字（<span class="number">6</span>字符），符合长度限制，完整存储（<span class="type">varchar</span>对中文按字符计数）</span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span>               <span class="operator">|</span>  # 对应插入的空值（<span class="keyword">values</span>()），<span class="type">varchar</span>允许存储<span class="keyword">NULL</span>，显示为<span class="keyword">NULL</span>（区别于空字符串&quot;&quot;）</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br></pre></td></tr></table></figure><h3 id="3-char-VS-varchar"><a href="#3-char-VS-varchar" class="headerlink" title="3. char VS varchar"></a>3. char VS varchar</h3><h4 id="1-功能与定义差异"><a href="#1-功能与定义差异" class="headerlink" title="1. 功能与定义差异"></a>1. 功能与定义差异</h4><table><thead><tr><th>特性</th><th><strong>CHAR(L)</strong></th><th><strong>VARCHAR(L)</strong></th></tr></thead><tbody><tr><td><strong>存储方式</strong></td><td>定长（固定长度）</td><td>变长（按实际长度存储）</td></tr><tr><td><strong>最大存储上限</strong></td><td>255 个字符</td><td>与字符集和表结构相关（utf8mb4 下约 16383 字符）</td></tr><tr><td><strong>空间分配</strong></td><td>无论实际存储多少字符，都占 L 个字符空间</td><td>仅占实际字符所需空间 + 1~3 字节长度信息</td></tr><tr><td><strong>超出定义长度</strong></td><td>报错</td><td>报错</td></tr><tr><td><strong>是否需要额外字节</strong></td><td>否</td><td>是（1~3 字节记录长度）</td></tr></tbody></table><h4 id="2-性能与效率差异"><a href="#2-性能与效率差异" class="headerlink" title="2. 性能与效率差异"></a>2. 性能与效率差异</h4><table><thead><tr><th>对比项</th><th><strong>CHAR</strong></th><th><strong>VARCHAR</strong></th></tr></thead><tbody><tr><td><strong>空间利用率</strong></td><td>较低（浪费空间）</td><td>较高（按需分配）</td></tr><tr><td><strong>访问效率</strong></td><td>高（定长数据定位快）</td><td>稍低（需先解析长度字节）</td></tr><tr><td><strong>更新效率</strong></td><td>高（不易产生碎片）</td><td>低（长度变化可能导致页分裂）</td></tr><tr><td><strong>适用场景</strong></td><td>数据长度固定</td><td>数据长度不固定</td></tr></tbody></table><h3 id="4-日期和时间类型"><a href="#4-日期和时间类型" class="headerlink" title="4. 日期和时间类型"></a>4. 日期和时间类型</h3><h4 id="1-常用的三种时间日期类型"><a href="#1-常用的三种时间日期类型" class="headerlink" title="1. 常用的三种时间日期类型"></a>1. 常用的三种时间日期类型</h4><table><thead><tr><th>类型</th><th>格式</th><th>占用空间</th><th>说明</th></tr></thead><tbody><tr><td><strong>DATE</strong></td><td><code>YYYY-MM-DD</code></td><td>3 字节</td><td>只保存日期，不含时间。适合存储生日、入职日期等。</td></tr><tr><td><strong>DATETIME</strong></td><td><code>YYYY-MM-DD HH:MM:SS</code></td><td>8 字节</td><td>保存完整的日期与时间。与时区无关，适合通用业务时间记录。</td></tr><tr><td><strong>TIMESTAMP</strong></td><td><code>YYYY-MM-DD HH:MM:SS</code></td><td>4 字节</td><td>自动记录插入或更新时间，会受时区影响。常用于“创建时间”、“修改时间”等字段。</td></tr></tbody></table><h4 id="2-基本使用"><a href="#2-基本使用" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t10，包含三种日期时间类型：</span><br><span class="line"># t1: <span class="type">date</span>（仅存储日期，格式YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD）</span><br><span class="line"># t2: datetime（存储日期<span class="operator">+</span>时间，格式YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD HH:MM:SS）</span><br><span class="line"># t3: <span class="type">timestamp</span>（存储日期<span class="operator">+</span>时间，受时区影响，默认可自动更新）</span><br><span class="line"><span class="keyword">create table</span> t10( t1 <span class="type">date</span>, t2 datetime, t3 <span class="type">timestamp</span>);</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.03</span> sec)</span><br><span class="line"></span><br><span class="line"># 查看表结构：</span><br><span class="line"># t3 字段类型为 <span class="type">timestamp</span>，但 Extra 列无特殊标识（默认不自动更新，需显式配置）</span><br><span class="line"><span class="keyword">desc</span> t10;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type      <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-----------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> t1    <span class="operator">|</span> <span class="type">date</span>      <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> t2    <span class="operator">|</span> datetime  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> t3    <span class="operator">|</span> <span class="type">timestamp</span> <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span>  # 无 <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>，故不自动更新</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-----------+------+-----+---------+-------+</span></span><br><span class="line"></span><br><span class="line"># 插入时未用引号包裹日期时间值，MySQL 会解析为表达式（<span class="number">2025</span><span class="number">-01</span><span class="number">-01</span> 被当作数学计算），导致语法错误</span><br><span class="line"><span class="keyword">insert into</span> t10 (t1,t2) <span class="keyword">values</span>(<span class="number">2025</span><span class="number">-01</span><span class="number">-01</span>,<span class="number">2025</span><span class="number">-01</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>);</span><br><span class="line">ERROR <span class="number">1064</span> (<span class="number">42000</span>): You have an error <span class="keyword">in</span> your <span class="keyword">SQL</span> syntax; <span class="keyword">check</span> the manual that corresponds <span class="keyword">to</span> your MySQL server version <span class="keyword">for</span> the <span class="keyword">right</span> syntax <span class="keyword">to</span> use near <span class="string">&#x27;00:00:00)&#x27;</span> <span class="keyword">at</span> line <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入数据时，为 t1、t2 赋值（t3 未指定，默认为 <span class="keyword">NULL</span>）</span><br><span class="line"># 日期时间字符串需用单引号包裹，格式符合要求（<span class="string">&#x27;YYYY-MM-DD&#x27;</span> 或 <span class="string">&#x27;YYYY-MM-DD HH:MM:SS&#x27;</span>）</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert into</span> t10 (t1,t2) <span class="keyword">values</span>(<span class="string">&#x27;2025-01-01&#x27;</span>,<span class="string">&#x27;2025-01-01 00:00:00&#x27;</span>);  # 完整语句补全后</span><br><span class="line"></span><br><span class="line"># 用双引号包裹日期时间字符串（效果同单引号），符合语法规则，插入成功</span><br><span class="line"><span class="keyword">insert into</span> t10 (t1,t2) <span class="keyword">values</span>(&quot;2025-01-01&quot;,&quot;2025-01-01 00:00:00&quot;);</span><br><span class="line"></span><br><span class="line"># 查询结果：t3 均为 <span class="keyword">NULL</span>（因插入时未赋值，且未配置自动更新）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> t10;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+---------------------+------+</span></span><br><span class="line"><span class="operator">|</span> t1         <span class="operator">|</span> t2                  <span class="operator">|</span> t3   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+---------------------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2025</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span> <span class="number">2025</span><span class="number">-01</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>  # t3 未赋值，保持 <span class="keyword">NULL</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2025</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span> <span class="number">2025</span><span class="number">-01</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>  # t3 未赋值，保持 <span class="keyword">NULL</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+---------------------+------+</span></span><br></pre></td></tr></table></figure><p>注意：<code>default current_timestamp on update current_timestamp</code> 这类规则只能在 <strong>创建表时定义字段</strong> 或 <strong>修改表结构时</strong> 配置，不能在 <code>insert</code> 语句中直接使用！必须在 <code>create table</code> 或 <code>alter table</code> 时声明，属于表结构的一部分！<strong>创建表时配置规则</strong>（推荐）：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span> t11(</span><br><span class="line">  t1 <span class="type">date</span>,</span><br><span class="line">  t2 datetime,</span><br><span class="line">  t3 <span class="type">timestamp</span> <span class="keyword">default</span> <span class="built_in">current_timestamp</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span>  # 定义时配置规则</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert into</span> t11 (t3) <span class="keyword">values</span> (<span class="keyword">default</span>);  # 使用 t3 字段定义的默认值（当前时间）</span><br></pre></td></tr></table></figure><p><strong>对于已存在的表，用 <code>alter table</code> 补充规则：</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter table</span> t11</span><br><span class="line">modify <span class="keyword">column</span> t3 <span class="type">timestamp</span> </span><br><span class="line"><span class="keyword">default</span> <span class="built_in">current_timestamp</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span>;</span><br></pre></td></tr></table></figure><h3 id="5-enum-和-set"><a href="#5-enum-和-set" class="headerlink" title="5. enum 和 set"></a>5. enum 和 set</h3><h4 id="1-enum-类型（枚举）"><a href="#1-enum-类型（枚举）" class="headerlink" title="1. enum 类型（枚举）"></a>1. enum 类型（枚举）</h4><p><code>enum</code> 用于存储 “多选一” 的值，即字段值只能是预定义选项中的 <strong>一个</strong>。</p><h5 id="1-数据范围"><a href="#1-数据范围" class="headerlink" title="1. 数据范围"></a>1. 数据范围</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enum(<span class="string">&#x27;值1&#x27;</span>, <span class="string">&#x27;值2&#x27;</span>, ..., <span class="string">&#x27;值n&#x27;</span>)</span><br></pre></td></tr></table></figure><p>选项列表最多支持 65535 个值（实际使用中通常远少于此），选项区分大小写（取决于表的字符集排序规则，如 <code>utf8mb4_general_ci</code> 不区分大小写，<code>utf8mb4_bin</code> 区分）。</p><h5 id="2-基本使用-1"><a href="#2-基本使用-1" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t12，定义 gender 为 enum 类型（枚举，只能从预定义选项中选一个）</span><br><span class="line"># enum(<span class="string">&#x27;男&#x27;</span>,&quot;女&quot;,<span class="string">&#x27;未知&#x27;</span>) 表示可选值为 <span class="string">&#x27;男&#x27;</span>、<span class="string">&#x27;女&#x27;</span>、<span class="string">&#x27;未知&#x27;</span>（单<span class="operator">/</span>双引号均可）</span><br><span class="line"><span class="keyword">create table</span> t12(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    gender enum(<span class="string">&#x27;男&#x27;</span>,&quot;女&quot;,<span class="string">&#x27;未知&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 插入符合 enum 选项的值（单<span class="operator">/</span>双引号包裹均可），均成功</span><br><span class="line"><span class="keyword">insert into</span> t12 <span class="keyword">values</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;男&#x27;</span>),    # 选 <span class="string">&#x27;男&#x27;</span></span><br><span class="line">(<span class="number">2</span>,&quot;女&quot;),    # 选 <span class="string">&#x27;女&#x27;</span>（双引号）</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;未知&#x27;</span>);  # 选 <span class="string">&#x27;未知</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 插入未在 enum 选项中的值 &#x27;</span>保密<span class="string">&#x27; → 不符合预定义范围，报错，错误提示：字段值被截断（实际因值不在选项中，无法存储）</span></span><br><span class="line"><span class="string">insert into t12 values (4,&quot;保密&quot;);</span></span><br><span class="line"><span class="string">ERROR 1265 (01000): Data truncated for column &#x27;</span>gender<span class="string">&#x27; at row 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 插入数字 1 → enum 支持用数字索引（从1开始）表示选项，1 对应第一个选项 &#x27;</span>男<span class="string">&#x27; → 成功</span></span><br><span class="line"><span class="string">insert into t12 values (4,1);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 插入数字 3 → 3 对应第三个选项 &#x27;</span>未知<span class="string">&#x27; → 成功</span></span><br><span class="line"><span class="string">insert into t12 values (4,3);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 插入数字 4 → enum 选项只有3个（索引1~3），4 超出范围 → 报错</span></span><br><span class="line"><span class="string">insert into t12 values (4,4);</span></span><br><span class="line"><span class="string">ERROR 1265 (01000): Data truncated for column &#x27;</span>gender<span class="string">&#x27; at row 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 查询结果：</span></span><br><span class="line"><span class="string"># 数字索引会自动转换为对应的选项值（1→&#x27;</span>男<span class="string">&#x27;，3→&#x27;</span>未知<span class="string">&#x27;）</span></span><br><span class="line"><span class="string">select * from t12;</span></span><br><span class="line"><span class="string">+------+--------+</span></span><br><span class="line"><span class="string">| id   | gender |</span></span><br><span class="line"><span class="string">+------+--------+</span></span><br><span class="line"><span class="string">|    1 | 男     |  # 直接插入 &#x27;</span>男<span class="string">&#x27;</span></span><br><span class="line"><span class="string">|    2 | 女     |  # 直接插入 &#x27;</span>女<span class="string">&#x27;</span></span><br><span class="line"><span class="string">|    3 | 未知   |  # 直接插入 &#x27;</span>未知<span class="string">&#x27;</span></span><br><span class="line"><span class="string">|    4 | 男     |  # 插入 1 → 对应 &#x27;</span>男<span class="string">&#x27;</span></span><br><span class="line"><span class="string">|    4 | 未知   |  # 插入 3 → 对应 &#x27;</span>未知<span class="string">&#x27;</span></span><br><span class="line"><span class="string">+------+--------+</span></span><br></pre></td></tr></table></figure><h4 id="2-set-类型（集合）"><a href="#2-set-类型（集合）" class="headerlink" title="2. set 类型（集合）"></a>2. set 类型（集合）</h4><p><code>set</code> 用于存储 “多选多” 的值，即字段值可以是预定义选项中的 <strong>多个（0 个或多个）</strong>，值之间用逗号分隔。</p><h5 id="1-数据范围-1"><a href="#1-数据范围-1" class="headerlink" title="1. 数据范围"></a>1. 数据范围</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(<span class="string">&#x27;值1&#x27;</span>, <span class="string">&#x27;值2&#x27;</span>, ..., <span class="string">&#x27;值n&#x27;</span>)</span><br></pre></td></tr></table></figure><p>选项列表最多支持 64 个值（因存储方式限制），选项同样区分大小写（规则同 <code>enum</code>）。</p><h5 id="2-基本使用-2"><a href="#2-基本使用-2" class="headerlink" title="2. 基本使用"></a>2. 基本使用</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"># 创建表 t13，定义 s 为 <span class="keyword">set</span> 类型（集合，可从预定义选项中选多个值）</span><br><span class="line"># <span class="keyword">set</span>(<span class="string">&#x27;吃饭&#x27;</span>,&quot;睡觉&quot;,<span class="string">&#x27;打豆豆&#x27;</span>,&quot;编码&quot;) 表示可选值为这<span class="number">4</span>个，支持多选（用逗号分隔）</span><br><span class="line"><span class="keyword">create table</span> t13 (</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    s <span class="keyword">set</span>(<span class="string">&#x27;吃饭&#x27;</span>,&quot;睡觉&quot;,<span class="string">&#x27;打豆豆&#x27;</span>,&quot;编码&quot;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 插入符合 <span class="keyword">set</span> 规则的值（单<span class="operator">/</span>双引号均可）：</span><br><span class="line"># <span class="number">1.</span> 选<span class="number">1</span>个值；<span class="number">2.</span> 空值（选<span class="number">0</span>个）；<span class="number">3.</span> 选多个值（用逗号分隔）；<span class="number">4.</span> 选<span class="number">1</span>个值</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;吃饭&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,&quot;&quot;),  # 空字符串表示不选任何值</span><br><span class="line">(<span class="number">3</span>,&quot;吃饭,睡觉,编码&quot;),  # 多选值用逗号分隔</span><br><span class="line">(<span class="number">4</span>,<span class="string">&#x27;编码&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># 插入重复值 <span class="string">&#x27;吃饭,吃饭&#x27;</span> → <span class="keyword">set</span> 会自动去重，存储为 <span class="string">&#x27;吃饭&#x27;</span> → 成功</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,<span class="string">&#x27;吃饭,吃饭&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># 插入未在 <span class="keyword">set</span> 选项中的 <span class="string">&#x27;打游戏&#x27;</span> → 不在预定义范围，报错</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,&quot;打游戏&quot;);</span><br><span class="line">ERROR <span class="number">1265</span> (<span class="number">01000</span>): Data truncated <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 插入数字 <span class="number">11</span> → <span class="keyword">set</span> 支持用二进制位对应的数字表示选项（每个选项对应一个位，从左到右为 <span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">8.</span>..）</span><br><span class="line"># 选项对应关系：<span class="string">&#x27;吃饭&#x27;</span><span class="operator">=</span><span class="number">1</span>（<span class="number">2</span><span class="operator">^</span><span class="number">0</span>）、<span class="string">&#x27;睡觉&#x27;</span><span class="operator">=</span><span class="number">2</span>（<span class="number">2</span><span class="operator">^</span><span class="number">1</span>）、<span class="string">&#x27;打豆豆&#x27;</span><span class="operator">=</span><span class="number">4</span>（<span class="number">2</span><span class="operator">^</span><span class="number">2</span>）、<span class="string">&#x27;编码&#x27;</span><span class="operator">=</span><span class="number">8</span>（<span class="number">2</span><span class="operator">^</span><span class="number">3</span>）</span><br><span class="line"># <span class="number">11</span> <span class="operator">=</span> <span class="number">8</span> <span class="operator">+</span> <span class="number">2</span> <span class="operator">+</span> <span class="number">1</span> → 对应 <span class="string">&#x27;吃饭,睡觉,编码&#x27;</span> → 成功</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">11</span>);</span><br><span class="line"></span><br><span class="line"># 插入数字 <span class="number">10</span> → <span class="number">10</span> <span class="operator">=</span> <span class="number">8</span> <span class="operator">+</span> <span class="number">2</span> → 对应 <span class="string">&#x27;睡觉,编码&#x27;</span> → 成功</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"># 插入数字 <span class="number">000</span>（即 <span class="number">0</span>）→ <span class="number">0</span> 表示不选任何值（等价于空字符串）→ 成功</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">000</span>);</span><br><span class="line"></span><br><span class="line"># 插入数字 <span class="number">0001</span>（即 <span class="number">1</span>）→ <span class="number">1</span> 对应 <span class="string">&#x27;吃饭&#x27;</span> → 成功</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">0001</span>);</span><br><span class="line"></span><br><span class="line"># 插入数字 <span class="number">1111</span> → 该 <span class="keyword">set</span> 只有<span class="number">4</span>个选项（最大对应数字 <span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">+</span><span class="number">4</span><span class="operator">+</span><span class="number">8</span><span class="operator">=</span><span class="number">15</span>），<span class="number">1111</span> 超出范围（<span class="number">1111</span>是十进制<span class="number">4369</span>）→ 报错</span><br><span class="line"><span class="keyword">insert into</span> t13 <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">1111</span>);</span><br><span class="line">ERROR <span class="number">1265</span> (<span class="number">01000</span>): Data truncated <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;s&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 查询结果：</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> t13;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------------------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> s                    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> 吃饭                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> 吃饭,睡觉,编码       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> 编码                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 吃饭                 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 吃饭,睡觉,编码       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 睡觉,编码            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span>                      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 吃饭                 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+----------------------+</span></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/Profile%20picture.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/Profile%20picture.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">小米里的大麦</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://www.minbit.top/posts/57353.html">原创</a><a class="post-copyright-title"><span onclick='rm.copyPageUrl("https://www.minbit.top/posts/57353.html")'>05 数据类型</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/wechatANDalipay.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/wechatANDalipay.webp" alt="微信/支付宝"></a><div class="post-qr-code-desc">微信/支付宝</div></li><li class="reward-item"><a href="/img/PayPal.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/PayPal.webp" alt="PayPal"></a><div class="post-qr-code-desc">PayPal</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display:none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://www.minbit.top/posts/57353.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=05 数据类型&amp;url=https://www.minbit.top/posts/57353.html&amp;pic=https://image-kcm.pages.dev/v2/12THR4h.png?_r_=16db0a8f-806b-29ad-d6cb-e82b0977b958" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl(){var e=window.location.href,t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)</a> 许可协议。转载请注明来自 <a href="https://www.minbit.top" target="_blank">小米里的大麦</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/MySQL/"><span class="tags-punctuation"><i class="anzhiyufont anzhiyu-icon-tag"></i></span>MySQL<span class="tagsPageCount">9</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://image-kcm.pages.dev/v2/TISblXc.png?_r_=6fc4a26b-d384-a060-5b79-b0768070ba93" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/7814.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/yPgfhRS.png?_r_=2e880e29-ca9a-cca4-f000-a0277171e831" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">056 高级 IO</div></div></a></div><div class="next-post pull-right"><a href="/posts/4211.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/08taomy.jpeg?_r_=578d71b1-7771-3429-133e-7bea81a56b7a" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">057 高级 IO 之 epoll 详解与 CMake 入门</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size:1.5rem;margin-right:4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/posts/42386.html" title="01 在 Ubuntu 22.04 上安装 MySQL"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/yPgfhRS.png?_r_=ba05198e-8307-4380-fd4e-9c1c9ddb5953" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-05</div><div class="title">01 在 Ubuntu 22.04 上安装 MySQL</div></div></a></div><div><a href="/posts/6432.html" title="02 数据库基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/12THR4h.png?_r_=da42dfac-d339-9d64-a8a7-fdf49c43a32e" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-16</div><div class="title">02 数据库基础</div></div></a></div><div><a href="/posts/9972.html" title="01 在 CentOS 7 中安装 MySQL"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/TISblXc.png?_r_=eeba1c99-3acd-f80e-f52b-1bbe142b3ccf" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-10</div><div class="title">01 在 CentOS 7 中安装 MySQL</div></div></a></div><div><a href="/posts/41394.html" title="04 表的操作"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/gDpBkQU.png?_r_=b61aa81b-4812-95db-a7a3-e6d79358310f" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-10-11</div><div class="title">04 表的操作</div></div></a></div><div><a href="/posts/19289.html" title="03 库的操作"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/IAdmxAt.png?_r_=729b0f4c-858e-f860-0b15-dd0691002b1f" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-10-11</div><div class="title">03 库的操作</div></div></a></div><div><a href="/posts/37148.html" title="06 表的约束"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/IAdmxAt.png?_r_=fe181ccb-f7c1-1f21-2801-0790a147e18e" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-11-02</div><div class="title">06 表的约束</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left:4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/Profile%20picture.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"></div></div><div class="author-info__description">时间好像总会留下点什么,或许是一个人,或许是一个梦,或许……是一段有意义的经历~</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">小米里的大麦</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/huangcancan-xbc" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content"><span>👋🏻 Hi，我是 <a target="_blank" href="https://huangcancan-xbc.github.io" rel="external nofollow noreferrer noopener" style="font-weight:700;font-size:1.1em;color:#5166f0">小米里的大麦</a>，欢迎来看我的博客鸭！</span><br><span>👉 建议优先查看置顶的 <a target="_blank" href="https://huangcancan-xbc.github.io/posts/17934.html" rel="external nofollow noreferrer noopener" style="font-weight:700;font-size:1.1em;color:#5166f0">网站说明</a>，如有问题欢迎评论区交流！</span><br><span>😫 页面异常？尝试<kbd>Ctrl</kbd>+<kbd>F5</kbd></span><br><span>📩 联系我：<a href="mailto:hc1960074081@qq.com" rel="external nofollow noreferrer"><b>给我发送邮件🚀</b></a></span><br><div style="text-align:center;margin-top:10px"><style>.pp-AN88D43BPZLXN{text-align:center;border:none;border-radius:.25rem;min-width:11.625rem;padding:0 2rem;height:2.625rem;font-weight:700;background-color:#ffd140;color:#003087;font-family:"Helvetica Neue",Arial,sans-serif;font-size:1rem;line-height:1.25rem;cursor:pointer}</style><form action="https://www.paypal.com/ncp/payment/AN88D43BPZLXN" method="post" target="_blank" style="display:inline-grid;justify-items:center;align-content:start;gap:.5rem"><input class="pp-AN88D43BPZLXN" type="submit" value="打赏支持我"> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://www.paypalobjects.com/images/Debit_Credit_APM.svg" alt="cards"><section style="font-size:.75rem">技术支持提供方： <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-wordmark-color.svg" alt="paypal" style="height:.875rem;vertical-align:middle"></section></form></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%80%E8%A7%88"><span class="toc-number">1.1.</span> <span class="toc-text">1. 常用数据类型一览</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 补充说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E6%8E%A8%E8%8D%90%E8%A1%A8"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 实际开发常用推荐表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">2. 数值类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-tinyint-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. tinyint 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1. 作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">2. 数据范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">3. 基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%A1%A8%E7%A4%BA%E5%B8%83%E5%B0%94%E5%80%BC%EF%BC%88%E6%9C%80%E5%B8%B8%E8%A7%81%EF%BC%89"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">4. 表示布尔值（最常见）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%A1%A8%E7%A4%BA%E5%B0%8F%E8%8C%83%E5%9B%B4%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">5. 表示小范围状态码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%BD%9C%E4%B8%BA%E8%AE%A1%E6%95%B0%E6%88%96%E7%AD%89%E7%BA%A7%E5%AD%97%E6%AE%B5"><span class="toc-number">1.2.1.6.</span> <span class="toc-text">6. 作为计数或等级字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.2.1.7.</span> <span class="toc-text">7. 注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E8%AF%A6%E7%BB%86%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.2.1.8.</span> <span class="toc-text">8. 详细示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-bit-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. bit 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8-1"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">1. 作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4-1"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">2. 数据范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">3. 基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AD%98%E5%82%A8%E5%B8%83%E5%B0%94%E5%80%BC%E6%88%96%E5%BC%80%E5%85%B3%E7%8A%B6%E6%80%81%EF%BC%88%E8%8A%82%E7%9C%81%E7%A9%BA%E9%97%B4%EF%BC%89"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">4. 存储布尔值或开关状态（节省空间）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B0%8F%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 小数类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-float-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">1. float 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8-2"><span class="toc-number">1.2.3.1.1.</span> <span class="toc-text">1. 作用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4-2"><span class="toc-number">1.2.3.1.2.</span> <span class="toc-text">2. 数据范围</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-2"><span class="toc-number">1.2.3.1.3.</span> <span class="toc-text">3. 基本使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-decimal-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">2. decimal 类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">3. 字符串类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-char-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. char 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8-3"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">1. 作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4-3"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">2. 数据范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-3"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">3. 基本使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-varchar-%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. varchar 类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8-4"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">1. 作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4-4"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2. 数据范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-4"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">3. 基本使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-char-VS-varchar"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. char VS varchar</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8A%9F%E8%83%BD%E4%B8%8E%E5%AE%9A%E4%B9%89%E5%B7%AE%E5%BC%82"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">1. 功能与定义差异</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%80%A7%E8%83%BD%E4%B8%8E%E6%95%88%E7%8E%87%E5%B7%AE%E5%BC%82"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">2. 性能与效率差异</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 日期和时间类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">1. 常用的三种时间日期类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">2. 基本使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-enum-%E5%92%8C-set"><span class="toc-number">1.3.5.</span> <span class="toc-text">5. enum 和 set</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-enum-%E7%B1%BB%E5%9E%8B%EF%BC%88%E6%9E%9A%E4%B8%BE%EF%BC%89"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">1. enum 类型（枚举）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4"><span class="toc-number">1.3.5.1.1.</span> <span class="toc-text">1. 数据范围</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-number">1.3.5.1.2.</span> <span class="toc-text">2. 基本使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-set-%E7%B1%BB%E5%9E%8B%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">2. set 类型（集合）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4-1"><span class="toc-number">1.3.5.2.1.</span> <span class="toc-text">1. 数据范围</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-2"><span class="toc-number">1.3.5.2.2.</span> <span class="toc-text">2. 基本使用</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/22243.html" title="2025 年度总结"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/TISblXc.png?_r_=6fc4a26b-d384-a060-5b79-b0768070ba93" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="2025 年度总结"></a><div class="content"><a class="title" href="/posts/22243.html" title="2025 年度总结">2025 年度总结</a><time datetime="2025-12-31T16:00:00.000Z" title="发表于 2026-01-01 00:00:00">2026-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/39993.html" title="08 表的增删改查下"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/12THR4h.png?_r_=6678428a-7043-ada6-7336-f16c60cf0d4e" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="08 表的增删改查下"></a><div class="content"><a class="title" href="/posts/39993.html" title="08 表的增删改查下">08 表的增删改查下</a><time datetime="2025-12-12T16:00:00.000Z" title="发表于 2025-12-13 00:00:00">2025-12-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/38170.html" title="Ubuntu 22.04 中安装 thefuck 与 tldr 工具"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/08taomy.jpeg?_r_=c6628b3e-dbb9-69cf-7b52-a1592090642c" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Ubuntu 22.04 中安装 thefuck 与 tldr 工具"></a><div class="content"><a class="title" href="/posts/38170.html" title="Ubuntu 22.04 中安装 thefuck 与 tldr 工具">Ubuntu 22.04 中安装 thefuck 与 tldr 工具</a><time datetime="2025-11-22T04:00:00.000Z" title="发表于 2025-11-22 12:00:00">2025-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/31539.html" title="CodeX CLI 的使用备忘"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/gDpBkQU.png?_r_=de921907-5476-440e-1b3f-76a5b42fc82f" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="CodeX CLI 的使用备忘"></a><div class="content"><a class="title" href="/posts/31539.html" title="CodeX CLI 的使用备忘">CodeX CLI 的使用备忘</a><time datetime="2025-11-19T04:00:00.000Z" title="发表于 2025-11-19 12:00:00">2025-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/41191.html" title="免费白嫖 ChatGPT Go 套餐"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image-kcm.pages.dev/v2/yPgfhRS.png?_r_=42c13ae0-a861-b4a6-ba61-e7da0a973c91" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="免费白嫖 ChatGPT Go 套餐"></a><div class="content"><a class="title" href="/posts/41191.html" title="免费白嫖 ChatGPT Go 套餐">免费白嫖 ChatGPT Go 套餐</a><time datetime="2025-11-04T16:00:00.000Z" title="发表于 2025-11-05 00:00:00">2025-11-05</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:hc1960074081@qq.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com/u/7913790969" title="微博"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0,500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/Profile picture.png" size="50px"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/1918272544" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2025 - 2026 By <a class="footer-bar-link" href="/" title="小米里的大麦" target="_blank">小米里的大麦</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType(){fetch("https://v1.hitokoto.cn").then(t=>t.json()).then(t=>{{const e="出自 "+t.from,n=["《左传》载曰：“太上有立德，其次有立功，其次有立言，虽久不废，此之谓不朽。”","纸上得来终觉浅，绝知此事要躬行！","《答案在风中飘扬》（Blowing in The Wind）","梦想是不会发光的，发光的是追梦的你！","你太专注于未来，却没有意识到，今天正是你多年前祈求的模样，因为你眺望远方视而不见。"];n.unshift(t.hitokoto,e),window.typed=new Typed("#footer-type-tips",{strings:n,startDelay:300,typeSpeed:150,loop:!0,backSpeed:50})}})}"function"==typeof Typed?subtitleType():getScript("https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js").then(subtitleType)</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="GitHub主页">GitHub主页</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">93</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">9</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">社交</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/huangcancan-xbc" title="GitHub"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/lollipop.svg" alt="GitHub"><span class="back-menu-item-text">GitHub</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://space.bilibili.com/1918272544" title="哔哩哔哩"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/wink.svg" alt="哔哩哔哩"><span class="back-menu-item-text">哔哩哔哩</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/huang-cancan-xbc" title="Gitee"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/laugh.svg" alt="Gitee"><span class="back-menu-item-text">Gitee</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.csdn.net/Huangcancan666?type=blog" title="CSDN"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/celebrate.svg" alt="CSDN"><span class="back-menu-item-text">CSDN</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://juejin.cn/user/3230789931118109" title="稀土掘金"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/kiss.svg" alt="稀土掘金"><span class="back-menu-item-text">稀土掘金</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">算法</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://leetcode.cn/u/nifty-faradayzqn" title="力扣"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/thinking-glass.svg" alt="力扣"><span class="back-menu-item-text">力扣</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/profile/517073385" title="牛客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/think.svg" alt="牛客"><span class="back-menu-item-text">牛客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://www.luogu.com.cn/user/1367427" title="洛谷"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/icons/funny.svg" alt="洛谷"><span class="back-menu-item-text">洛谷</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> 统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> 外链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size:.9em"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size:.9em"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> 关于本人</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size:.88rem">AI<sup>2</sup></a><a href="/tags/C/" style="font-size:.88rem">C++<sup>11</sup></a><a href="/tags/Git/" style="font-size:.88rem">Git<sup>3</sup></a><a href="/tags/IO/" style="font-size:.88rem">IO<sup>5</sup></a><a href="/tags/Linux/" style="font-size:.88rem">Linux<sup>59</sup></a><a href="/tags/MySQL/" style="font-size:.88rem">MySQL<sup>9</sup></a><a href="/tags/Redis/" style="font-size:.88rem">Redis<sup>2</sup></a><a href="/tags/STL/" style="font-size:.88rem">STL<sup>2</sup></a><a href="/tags/VS-Code/" style="font-size:.88rem">VS Code<sup>1</sup></a><a href="/tags/%E4%BF%A1%E5%8F%B7/" style="font-size:.88rem">信号<sup>3</sup></a><a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size:.88rem">内存管理<sup>1</sup></a><a href="/tags/%E5%8E%86%E7%A8%8B/" style="font-size:.88rem">历程<sup>2</sup></a><a href="/tags/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4/" style="font-size:.88rem">地址空间<sup>6</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size:.88rem">工具<sup>4</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size:.88rem">数学<sup>1</sup></a><a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size:.88rem">模板<sup>1</sup></a><a href="/tags/%E7%81%B5%E5%85%89%E8%8D%9F%E8%90%83/" style="font-size:.88rem">灵光荟萃<sup>3</sup></a><a href="/tags/%E7%AE%A1%E9%81%93/" style="font-size:.88rem">管道<sup>2</sup></a><a href="/tags/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/" style="font-size:.88rem">类与对象<sup>3</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size:.88rem">线程<sup>5</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size:.88rem">网站<sup>3</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size:.88rem">网络<sup>11</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size:.88rem">进程<sup>15</sup></a></div></div><hr></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="anzhiyu.scrollToDest(document.body.scrollHeight,500)"><i class="anzhiyufont anzhiyu-icon-arrow-down"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size:1rem"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display:none"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@6.1.6/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>var HoldLog=console.log;console.log=function(){};let now1=new Date;queueMicrotask(()=>{const o=function(){HoldLog.apply(console,arguments)},n=new Date("01/01/2025 00:00:00");now1.setTime(now1.getTime()+250);const c=(now1-n)/1e3/60/60/24,e=["这里是 小米里的大麦","芝兰生于深谷，不以无人而不芳。","\n        \n       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗\n      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║\n      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║\n      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║\n      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝\n      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝\n        \n        ","已上线",Math.floor(c),"天","©2025 By 安知鱼 V1.7.1"],t=["NCC2-036","调用前置摄像头拍照成功，识别为【小笨蛋】.","Photo captured: ","🤪"];setTimeout(o.bind(console,`\n%c${e[0]} %c ${e[1]} %c ${e[2]} %c${e[3]}%c ${e[4]}%c ${e[5]}\n\n%c ${e[6]}\n`,"color:#425AEF","","color:#425AEF","color:#425AEF","","color:#425AEF","")),setTimeout(o.bind(console,`%c ${t[0]} %c ${t[1]} %c \n${t[2]} %c\n${t[3]}\n`,"color:white; background-color:#4fd953","","",'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%')),setTimeout(o.bind(console,"%c WELCOME %c 你好，小笨蛋.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c ⚡ Powered by 安知鱼 %c 你正在访问 小米里的大麦 的博客.","color:white; background-color:#f0ad4e","")),setTimeout(o.bind(console,"%c W23-12 %c 你已打开控制台.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c 你现在正处于监控中.","color:white; background-color:#d9534f",""))})</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{"object"==typeof twikoo?setTimeout(o,0):getScript("https://cdn.cbd.int/twikoo@1.6.44/dist/twikoo.all.min.js").then(o)},o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.minbit.top/",path:window.location.pathname,region:"ap-shanghai",onCommentLoaded:()=>{anzhiyu.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const t=document.getElementById("twikoo-count");t&&twikoo.getCommentsCount({envId:"https://twikoo.minbit.top/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then(o=>{t.textContent=o[0].count}).catch(t=>{console.error(t)})})()};anzhiyu.loadComment(document.getElementById("twikoo-wrap"),t)})()</script><input type="hidden" name="page-type" id="page-type" value="post"><script async src="/js/anzhiyu/comment_barrage.js"></script></div><script>window.addEventListener("load",()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++){t+="<div class='aside-list-item'>";{const a="data-lazy-src";t+=`<a href='${e[n].url}' class='thumbnail'><img ${a}='${e[n].avatar}' alt='${e[n].nick}'><div class='name'><span>${e[n].nick} </span></div></a>`}t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <time datetime="${e[n].date}">${anzhiyu.diffDate(e[n].date,!0)}</time></div>\n        </div>`}else t+="没有评论";let n=document.querySelector("#card-newest-comments .aside-list");n&&(n.innerHTML=t),window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.minbit.top/",region:"ap-shanghai",pageSize:6,includeReply:!0}).then((function(t){const n=t.map(e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t});saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"}))};"object"==typeof twikoo?t():getScript("https://cdn.cbd.int/twikoo@1.6.44/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)})</script><script async data-pjax src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail="xiaomilidedamai@minbit.top"</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://cdn.cbd.int/qrcodejs@1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.9.0-rc.1/echarts.min.js"></script><script src="/js/footer-animal.js" defer></script><script id="click-show-text" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="offer,暴富,健康,offer,喜乐,成功,offer,好运,自由,offer,坚持,上岸" data-fontsize="20px" data-random="true" async></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:type"]','meta[property="og:site_name"]','meta[property="og:description"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(anzhiyu.removeGlobalFnEvent("pjax"),anzhiyu.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="https://events.vercount.one/js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script><script>window.addEventListener("load",()=>{const t=()=>{if(!window.location.pathname.startsWith("/comments/"))return;const t=async()=>{const t=new EasyDanmaku({page:"/comments/",el:"#danmu-wrap",line:5,speed:20,hover:!0,loop:!1,colourful:!0,coefficient:1.38,runtime:10});try{let a=saveToLocal.get("twikoo-danmu");if(a)t.batchSend(a,!0);else{const n={method:"POST",body:JSON.stringify({event:"GET_RECENT_COMMENTS",includeReply:!1,pageSize:100}),headers:{"Content-Type":"application/json"}};a=[];const o=await fetch("https://twikoo.minbit.top/",n);if(o.ok){const{data:n}=await o.json();n.forEach(t=>{null==t.avatar&&(t.avatar="https://cravatar.cn/avatar/d615d5793929e8c7d70eab5f00f7f5f1?d=mp"),a.push({avatar:t.avatar,content:t.nick+"："+e(t.comment),url:t.url+"#"+t.id})}),t.batchSend(a,!0),saveToLocal.set("twikoo-danmu",a,.5)}function e(t){return t=(t=(t=(t=(t=t.replace(/<\/*br>|[\s\uFEFF\xA0]+/g,"")).replace(/<img.*?>/g,"[图片]")).replace(/<a.*?>.*?<\/a>/g,"[链接]")).replace(/<pre.*?>.*?<\/pre>/g,"[代码块]")).replace(/<.*?>/g,"")}}}catch(t){console.error("Error fetching data:",t)}document.getElementById("danmu-Btn")&&(document.getElementById("danmu-Btn").innerHTML="<button class=\"hide-Btn\" onclick=\"document.getElementById('danmu-wrap').classList.remove('hide-danmu')\">显示弹幕</button> <button class=\"hide-Btn\" onclick=\"document.getElementById('danmu-wrap').classList.add('hide-danmu')\">隐藏弹幕</button>")};(async()=>{if("function"==typeof EasyDanmaku)await t();else{await getScript("https://npm.onmicrosoft.cn/naokuo-blog@1.2.12/js/easy-Danmaku.js");"function"==typeof EasyDanmaku?await t():console.error("EasyDanmaku function not found even after loading the script.")}})()};t(),document.addEventListener("pjax:complete",t)})</script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>